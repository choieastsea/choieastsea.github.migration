{"componentChunkName":"component---src-templates-blog-template-js","path":"/Alg-Prefix-Sum/","result":{"data":{"cur":{"id":"6c91f294-9e28-56aa-b3f8-eb63842f97f9","html":"<p>prefix sum은 자주 등장하는 주제이고, 알고 있으면 매우 유용하다. 개념에 대하여 익히고, 문제를 몇개 풀어보는 시간을 가져보자.</p>\n<h1 id=\"prefix-sum-이란\" style=\"position:relative;\"><a href=\"#prefix-sum-%EC%9D%B4%EB%9E%80\" aria-label=\"prefix sum 이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prefix sum 이란</h1>\n<p>숫자형 데이터로 이루어진 배열에서, 현재까지의 원소들의 합을 의미한다.</p>\n<p>예를 들어, a = [1,3,-5,2,7]의 prefix sum array를 구하면 P= [1,4,-1,1,8] 이다. <strong>누적합</strong>이라고 보면 편할 것이다! Prefix sum 배열을 앞으로 P라고 부르겠다.</p>\n<h2 id=\"prefix-sum을-이용하여-구간합-구하기\" style=\"position:relative;\"><a href=\"#prefix-sum%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%EA%B5%AC%EA%B0%84%ED%95%A9-%EA%B5%AC%ED%95%98%EA%B8%B0\" aria-label=\"prefix sum을 이용하여 구간합 구하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>prefix sum을 이용하여 구간합 구하기</h2>\n<p>몇가지의 특징이 있는데, 우선 <strong>P의 마지막 원소는 배열 원소의 총합</strong>이라는 것이다.</p>\n<p>또한 구간의 합을 구할때, P를 이용하여 다음과 같이 구할 수 있다. a[3]~a[7]까지의 합은 P[7]-P[2]와 같다. 굳이 공식화 하자면, <strong>summation from a[i] to a[j] = P[j]- P[i-1]</strong> 라고 할 수 있겠다. 이는 구간의 합을 O(1)에 구할 수 있는 매우 좋은 방법이다! 물론 초기화하는데 O(n)이 걸리긴 하지만, 한번 구하고 반복적으로 구간의 합을 구한다면 훨씬 좋은 성능을 낼 것이다.</p>\n<p>마지막으로, **a[i] = P[i] - P[i-1]**임을 알 수 있다. 외울 필요 없이 자연스럽게 알 수 있다.</p>\n<h2 id=\"prefix-sum-array-on-시간에-초기화-하기\" style=\"position:relative;\"><a href=\"#prefix-sum-array-on-%EC%8B%9C%EA%B0%84%EC%97%90-%EC%B4%88%EA%B8%B0%ED%99%94-%ED%95%98%EA%B8%B0\" aria-label=\"prefix sum array on 시간에 초기화 하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>prefix sum array O(n) 시간에 초기화 하기</h2>\n<p>처음 P를 초기화 할때 나는 아래와 같이 했었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">int</span> a<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">int</span> p<span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">7</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">int</span> sumI <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;=</span> i<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        sumI <span class=\"token operator\">+=</span> a<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    p<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> sumI<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이는 P[i]가 a[0]부터 a[i]까지 더한 값이라는 특성을 이용하여 구한 것인데, O(n^2)시간이 걸린다는 단점이 있다. 따라서 prefix sum의 특징 중 마지막 수식에서 점화식을 유도해볼 수 있다.</p>\n<p>P[i] = P[i-1] + a[i] 임을 이용하여 초기화 하는 것이다. 단, 여기서는 i가 1이상이여야 하므로 <u>배열을 1번 인덱스부터 채우는 것이 편하다</u>.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">int</span> a<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">int</span> p<span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> <span class=\"token number\">7</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    p<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> p<span class=\"token punctuation\">[</span>i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이는 O(n)시간으로 prefix sum array를 초기화시켜줄 수 있으므로 알고 있으면 좋을 것이다!</p>\n<p>이제, prefix sum을 이용한 문제를 3개 정도 풀어보자. prefix sum을 이용하는지 판단하는 근거는 “누적합” 혹은 “연속된 구간의 합”이라고 보면 되겠다. c++ 실력이 낮아 공부하면서 풀어보았다.</p>\n<h1 id=\"문제-풀이\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C-%ED%92%80%EC%9D%B4\" aria-label=\"문제 풀이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제 풀이</h1>\n<h2 id=\"codeforces-1003c\" style=\"position:relative;\"><a href=\"#codeforces-1003c\" aria-label=\"codeforces 1003c permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>codeforces 1003C</h2>\n<p><a href=\"https://codeforces.com/problemset/problem/1003/C\">C,Intense Heat</a></p>\n<p>문제를 요약하면 다음과 같다.</p>\n<ul>\n<li>\n<p>input : n(총 데이터 수), k(연속된 구간의 최소 길이), sequence of temperature</p>\n</li>\n<li>\n<p>output : 최고의 평균을 갖는 구간의 평균 온도</p>\n</li>\n</ul>\n<p>구간의 평균은 곧 구간의 합, prefix sum과 관련이 있다. 최대 합을 갖는 구간을 찾으려면, 단순하게 P[i]-P[j] (단, i-j는 k보다 커야함)를 해보면서 평균깂이 최대인 구간을 찾으면 될 것 같다.</p>\n<p>for문은 아래와 같이 생각한다.</p>\n<ol>\n<li>\n<p>구간 길이 k : 1<del>k까지의 평균, 2</del>k+1까지의 평균</p>\n</li>\n<li>\n<p>구간 길이 k+1 : 1~k+1까지의 평균, …</p>\n<p>…</p>\n</li>\n</ol>\n<p>n-k+1. 구간 길이 n : 1~n까지의 평균</p>\n<p>-> i. 구간 길이 i : 1<del>i까지의 평균, 2</del>i+1까지의 평균, … <strong>j ~ i+j-1</strong>까지의 평균, … n-i+1 ~ n까지의 평균</p>\n<p>코드는 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;iostream></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;bits/stdc++.h></span></span>\n\n<span class=\"token keyword\">using</span> <span class=\"token keyword\">namespace</span> std<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">int</span> n<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">;</span>\n    cin <span class=\"token operator\">>></span> n <span class=\"token operator\">>></span> k<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> <span class=\"token operator\">*</span>temp_arr <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span>n <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> <span class=\"token operator\">*</span>P <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span>n <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// initialize Prefix sum array</span>\n    P<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> n<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        cin <span class=\"token operator\">>></span> temp_arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        P<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> P<span class=\"token punctuation\">[</span>i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> temp_arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">double</span> answer <span class=\"token operator\">=</span> <span class=\"token number\">0.0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> k<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> n<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;=</span> n <span class=\"token operator\">-</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            answer <span class=\"token operator\">=</span> <span class=\"token function\">max</span><span class=\"token punctuation\">(</span>answer<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">double</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>P<span class=\"token punctuation\">[</span>i <span class=\"token operator\">+</span> j <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> P<span class=\"token punctuation\">[</span>j <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">double</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    cout<span class=\"token punctuation\">.</span><span class=\"token function\">precision</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    cout <span class=\"token operator\">&lt;&lt;</span> answer <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">delete</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> temp_arr<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">delete</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> P<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>단순하게 출력하였더니 정밀도의 문제가 생겨, cout.precision(10)으로 정밀도를 높여서 하니 해결되었다.</p>\n<h2 id=\"codeforces-466c\" style=\"position:relative;\"><a href=\"#codeforces-466c\" aria-label=\"codeforces 466c permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>codeforces 466C</h2>\n<p><a href=\"https://codeforces.com/contest/466/problem/C\">C.Number of Ways</a></p>\n<p>배열이 있는데, 이를 합이 같은 세 개의 구간으로 나눌 수 있는지 여부를 판단하고 그 경우의 수를 세는 문제이다. 각 구간은 최소 한개 이상의 원소를 갖고 있어야 한다.</p>\n<ul>\n<li>input : n(배열의 길이), 배열 원소(각 원소는 int 범위보다 크니까 주의)</li>\n<li>output : count(합이 같은 세개의 구간의 수)</li>\n</ul>\n<p>우선 세 구간의 합이 같다는 말은 전체합은 3의 배수라는 것이다. 그럼 아래와 같이 세면 될 것 같다.</p>\n<ol>\n<li>P[n]이 3*t인지 확인</li>\n<li>P[x]가 t인지 확인</li>\n<li>1&#x26;2&#x26;P[y]가 2*t인 곳 있을때마다 count +=1</li>\n</ol>\n<p>하지만, 위와 같이 하면 2중 loop를 돌게 되는데 시간 초과 오류가 나온다… 따라서 아래와 같은 방법도 있다고 한다.</p>\n<ol>\n<li>P[n]이 3*t인지 확인</li>\n<li>P[x]가 2*t이면, 그 앞의 P[x]가 t인 지점들을 모두 카운트해주기</li>\n</ol>\n<p>주의할 점은 배열의 합이 0이 되는 경우가 문제가 될 수 있다. [0, 1, -1, 0]과 같이,</p>\n<p>코드는 아래와 같다. 전 문제와 다르게 동적 할당을 하면 시간이 더 오래걸리는 것 같아, 정적 배열로 선언하였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;iostream></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;bits/stdc++.h></span></span>\n\n<span class=\"token keyword\">using</span> <span class=\"token keyword\">namespace</span> std<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> n<span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">[</span><span class=\"token number\">500000</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> P<span class=\"token punctuation\">[</span><span class=\"token number\">500000</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    cin <span class=\"token operator\">>></span> n<span class=\"token punctuation\">;</span>\n    P<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> n<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        cin <span class=\"token operator\">>></span> a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        P<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> P<span class=\"token punctuation\">[</span>i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>P<span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span> <span class=\"token operator\">%</span> <span class=\"token number\">3</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> total3 <span class=\"token operator\">=</span> P<span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span> <span class=\"token operator\">/</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> countOf1 <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>P<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> total3<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                count <span class=\"token operator\">+=</span> countOf1<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>P<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> total3<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                countOf1<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    cout <span class=\"token operator\">&lt;&lt;</span> count <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"codeforces-1285b\" style=\"position:relative;\"><a href=\"#codeforces-1285b\" aria-label=\"codeforces 1285b permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>codeforces 1285B</h2>\n<p><a href=\"https://codeforces.com/contest/1285/problem/B\">B. Just Eat It!</a></p>\n<p>복잡하지만 다음과 같다.</p>\n<p>Yasser라는 사람과 Adel이 각자 정수형 배열에서 점수를 매겨 Yasser가 이기는지, 아닌지를 보이면 된다.</p>\n<ul>\n<li>\n<p>Yasser : 배열 모든 원소의 합으로 점수 매김</p>\n</li>\n<li>\n<p>Adel: 배열 원소의 구간합으로 점수를 매김(단, 모든 원소의 합은 안됨)</p>\n</li>\n</ul>\n<p>자연수가 아닌 정수 배열이므로, Adel이 이기는 경우도 존재할 것이다. 주의할 점은 Adel이 모든 원소의 합을 구하면 안된다는 점인데, 그럼 Yasser가 항상 이길 수 없기 때문이므로 예외처리를 해줘야 할 것 같다.</p>\n<ul>\n<li>input : t(test case), n(length of array), array_1, … , array_t</li>\n<li>output: 각 케이스 별 YES / NO 출력</li>\n</ul>\n<p>(n과 각 배열은 int 범위를 넘어갈 수 있으니 주의한다) Yasser의 score는 전체 배열의 합이므로 P[n]과 같고, Adel은 나올 수 있는 최대의 점수를 Yasser과 비교하면 된다. 하지만, P[i]-P[j]를 돌리면 O(n^2)이 걸리므로 다른 아이디어를 적용해야한다. <strong>따라서 O(n)으로 하기 위해, 단순 for문으로 P[i]를 탐색하면서 P[i]에서 여태까지 P중 최솟값을 빼주면 P[i]에서 끝나는 조각 중 가장 큰 점수가 된다</strong>. 이를 Yasser의 score와 비교해주면 될 것이다.</p>\n<p>하지만, 전제에 의해 조각이 전체가 되면 안되므로 이를 처리해줘야 하는데 두가지 방법이 있다.</p>\n<ol>\n<li>P[1]에서 끝나는 조각… P[n-1]로 끝나는 조각의 최대합 을 구하고, P[2]~P[n]까지 조각 중 최대 값을 또 구한다.</li>\n<li>P[1]~P[n]까지 순차탐색하는데, P[1]이 가장 작고 P[n]에서 끝나는 경우(즉, 전체인 경우)는 인정하지 않는다.</li>\n</ol>\n<p>1번은 탐색을 2번해야하고, 2번은 한번의 탐색에 한가지 예외를 붙여주는 것이라 2번으로 구현해보았다.</p>\n<p>코드는 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;iostream></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;bits/stdc++.h></span></span>\n\n<span class=\"token keyword\">using</span> <span class=\"token keyword\">namespace</span> std<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">int</span> test_case<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> n<span class=\"token punctuation\">;</span>\n    cin <span class=\"token operator\">>></span> test_case<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>test_case<span class=\"token operator\">--</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        cin <span class=\"token operator\">>></span> n<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> score_arr<span class=\"token punctuation\">[</span><span class=\"token number\">100001</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> P<span class=\"token punctuation\">[</span><span class=\"token number\">100001</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// prefix sum array</span>\n        <span class=\"token comment\">// initialize Prefix sum array</span>\n        P<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> n<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            cin <span class=\"token operator\">>></span> score_arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n            P<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> P<span class=\"token punctuation\">[</span>i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> score_arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> yasser_score <span class=\"token operator\">=</span> P<span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> ans <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> min_of_p <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> min_index <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span> <span class=\"token operator\">*</span>Adel_comb <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">long</span> <span class=\"token keyword\">long</span><span class=\"token punctuation\">[</span>n <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> n<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>min_index <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> i <span class=\"token operator\">==</span> n<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span> <span class=\"token comment\">//조각이 전체인 경우. 이 경우는 문제 조건에 의하여 불가능.</span>\n                <span class=\"token keyword\">continue</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            Adel_comb<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> P<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> min_of_p<span class=\"token punctuation\">;</span> <span class=\"token comment\">// i에서 끝나는 조각 중 가장 합이 큰 조각의 점수</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>min_of_p <span class=\"token operator\">>=</span> P<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span> <span class=\"token comment\">// 더 작은 값 있다면 업데이트</span>\n                min_index <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span>\n                min_of_p <span class=\"token operator\">=</span> P<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token comment\">// cout &lt;&lt; i &lt;&lt; \"에서 끝나는 최대 조각의 합: \" &lt;&lt; Adel_comb[i] &lt;&lt; \", yasser : \" &lt;&lt; yasser_score &lt;&lt; endl;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Adel_comb<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">>=</span> yasser_score<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                ans <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ans <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            cout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"YES\"</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">else</span>\n            cout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"NO\"</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>결론은 배열에서 구간의 합을 반복적으로 구하는 문제가 나온다면 Prefix sum 배열을 초기화 해놓고 사용할 생각을 하면 될 것 같다. 하지만, O(n^2)이 시간 초과가 되는 경우, <strong>O(n)으로 줄일 수 있는 아이디어를 생각하는 것이 더 중요</strong>할 것 같다. 아래의 두 문제는 O(n^2)으로 제출시 시간초과가 발생하였고, 아래와 같이 해결할 수 있었다.</p>\n<ol>\n<li>순차적인 조건이 2가지(A→B) 있는 경우, A가 충족될때 B를 구할 수도 있지만, B가 충족될때 A를 모두 포함해주는 방법도 있다.</li>\n<li>차의 최대는 최대- 최소이므로, 각 엔트리별로 돌면서 최솟값을 빼주는 방향으로 시간을 줄일 수 있었다.</li>\n</ol>\n<p>난 이런 것들을 생각해낼 수 없겠지…🤣</p>","excerpt":"prefix sum은 자주 등장하는 주제이고, 알고 있으면 매우 유용하다. 개념에 대하여 익히고, 문제를 몇개 풀어보는 시간을 가져보자. Prefix sum 이란 숫자형 데이터로 이루어진 배열에서, 현재까지의 원소들의 합을 의미한다. 예를 들어, a = [1,3,-5,2,7]의 prefix sum array를 구하면 P= [1,4,-1,1,8] 이다. 누적합이라고 보면 편할 것이다! Prefix sum 배열을 앞으로 P라고 부르겠다. prefix sum을 이용하여 구간합 구하기 몇가지의 특징이 있는데, 우선 P의 마지막 원소는 배열 원소의 총합이라는 것이다. 또한 구간의 합을 구할때, P를 이용하여 다음과 같이 구할 수 있다. a[3]~a[7]까지의 합은 P[7]-P[2]와 같다. 굳이 공식화 하자면, summation from a[i] to a[j] = P[j]- P[i-1] 라고 할 수 있겠다. 이는 구간의 합을 O(1)에 구할 수 있는 매우 좋은 방법이다! 물론 초기화하는데 …","frontmatter":{"date":"March 14, 2022","title":"(Alg) Prefix Sum 부분합 문제 해결하기","categories":"Alg","author":"choieastsea","emoji":"😬"},"fields":{"slug":"/Alg-Prefix-Sum/"}},"next":{"id":"60ff4daf-5019-5625-93a4-ec86c0a0fe00","html":"<p>저번에 이어 Next js를 공부해보자! (공식사이트와 유튜브를 돌아다니며 공부했다) 오늘은 fetch하여 데이터 받아오기와 Next.js에서의 SSR에 대하여 공부해보려고 한다.</p>\n<h1 id=\"데이터-가져오기react-\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0react-\" aria-label=\"데이터 가져오기react  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터 가져오기(react )</h1>\n<p>저번에 공부한 내용으로는 간단하게 정적인 페이지를 만들어 보았는데, 오늘은 동적인 페이지를 만들어보자! index.js에서 영화 api를 가져와서 정보를 보여주도록 하자. 원래 리액트에서 하는 것 처럼, useEffect hook을 사용하여 페이지가 로드될때 데이터를 fetch해올 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> Image <span class=\"token keyword\">from</span> <span class=\"token string\">\"next/image\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useEffect<span class=\"token punctuation\">,</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react/cjs/react.development\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token constant\">SEO</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/SEO\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">API_KEY</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"API_KEY\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//put personal api key</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Home</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>movies<span class=\"token punctuation\">,</span> setMovies<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>\n        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://api.themoviedb.org/3/movie/popular?api_key=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">API_KEY</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> results <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// console.log(results);</span>\n      <span class=\"token function\">setMovies</span><span class=\"token punctuation\">(</span>results<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SEO</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>home<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>active title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Home</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>movies<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">movie</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>movie<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>image-wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Image</span></span>\n                <span class=\"token attr-name\">alt</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>movie<span class=\"token punctuation\">.</span>poster_path<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span></span>\n                <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://image.tmdb.org/t/p/w500/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>movie<span class=\"token punctuation\">.</span>poster_path<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span></span>\n                <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>200px<span class=\"token punctuation\">\"</span></span>\n                <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>300px<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h4</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>movie<span class=\"token punctuation\">.</span>original_title<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h4</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">jsx</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">{`\n        .title {\n          text-align: center;\n        }\n        .container {\n          display: flex;\n          flex-direction: row;\n          flex-wrap: wrap;\n          justify-content: space-evenly;\n        }\n        .item h4 {\n          text-align: center;\n          max-width: 200px;\n        }\n        .image-wrapper {\n          max-height: 300px;\n          overflow: hidden;\n          box-shadow: rgba(0, 0, 0, 0.3) 0px 5px 12px;\n          border-radius: 1rem;\n          transition: transform 0.2s ease-in-out;\n        }\n        .image-wrapper:hover {\n          transform: scale(1.05) translateY(-10px);\n        }\n      `}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>flex로 간단하게 이미지 배치를 하였다. 사진에 hover event도 달아주었고, 결과는 아래와 같다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 78.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEC0lEQVQ4y43Tf0zUdRjA8Q+Zok5phjq03FSwaamkqZhLSDEVlz/JMBIxUoe1UFE8xAMuIXWgbv4ATkBB8DzRU/wB4cIWJIJkpKwFqaQOOO6nqAcn3+/B9W7cVa75T8/2/PPs+byeZ5/tEXJ7O5137iJbLNDthA4Jm82G1WrlefzJ/4menh6EQ5LosnXQ1dmJ1CUhPevCbn+G3W5HlmWcPU436XQiSRKyJCO5Uvo3e/u6u7txOByIjg47j9qfYDJZMRhMtLWZaNMbaW010tzSRu3NW1RU3+TnW7/SqjfS0mpArze4+vR6o+uNxfIIm60TWXYgeqcZjWbuP2jmwUO9q7EXf2q1YrOYqNQVkRu7kbL8Yzw26XlsMmK0tLtwo8HsAk1mK12SjNPpRPx4rZaQJVEcySggv/Ayu9Nz2bhpJ421tUglGcjqT3HmRiLnRPKk+ABNt+pYsjScecFLWPVROGFhEbzhH0TxpTLX14iKyp9Qfn2YopR0ijbFck6r5fMN8fxSXQ0ZEVhjAjCkfYYhZhbdR9Zw/+4dFk/2Z9mbEwidE8Sq0FCEx1Cysk+4wdq6Bg5sT0YXvZ69783hh7QtaPd/Q1VpKQ/DA2mMXkn9pSIav1hJU2gAdVevkBw4DYW/H2+N82fc+OkIzxGc1J51g5UVN1DHrePqoVSi564gfOoUdHsUqHftJrKPQBMSgG75bI7Nm8JqIchMSEC5YDbLx46i76DRDB46HuHhzclTZ9zgd+XXyFZ+xaEVwaSv+oSYpYs5unUd6apUZngI0rz7kjHEA9VILyYIwf7EJGKXzWf1OxP4YOIkgoNC8PV9m/yC039vWFnNhrUbKd4dR13GduqzUlDv2MHeRBXzPASpPkNQr49C5T0IfyE4nKRkT0gQI4b5MvhVP4a9Pgnx8nByj590g9ev3yBsRRTq5F0UJMaiVSlJ+FJBsjKJ94UgddRw8j7+kHNrVhITspBDCQr2Bs9ijM9Y+g98jQFeoxHC6zl4ueRb/CcGMn/2MgKnL2DurEVMm7mQfUkqpgpBWL+XWCsEScGBhM+YQV6ykoTAmfiN9KVPPx8GeI1CiL7kHC90gxazGY3mNIWaIk5pz3CiQEPvELPJRE1VFd+XXeHK5RJKdTqqyssxGwzcrqlBpysmOycPjfYs54tLaGszusF/Dttmt/OwpQVHT88LR9/R+ZQuWXqh7nD8t+a6lObfG8hSbCEzIY4sxWYOKLZyNCWRxsYmkjLL2JldzcXS37jX0EJT0wPu/dFMasou4uO2ER+rQBkfz5bNm6ivv+3esOGCBlV/QeoYDwI8BRH9BeGvCI7l5CHeDWNo2DbSU/ZRevE8kQcvcLCgBO+B/fASgkXTvJg8whMhBNnqLBf4F76pkZ6OteiSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"next-image\" title=\"next-image\" src=\"/static/6f6f9b67d37b35c498d924f3fc67fbfc/37523/next-image.png\" srcset=\"/static/6f6f9b67d37b35c498d924f3fc67fbfc/e9ff0/next-image.png 180w,\n/static/6f6f9b67d37b35c498d924f3fc67fbfc/f21e7/next-image.png 360w,\n/static/6f6f9b67d37b35c498d924f3fc67fbfc/37523/next-image.png 720w,\n/static/6f6f9b67d37b35c498d924f3fc67fbfc/302a4/next-image.png 1080w,\n/static/6f6f9b67d37b35c498d924f3fc67fbfc/07a9c/next-image.png 1440w,\n/static/6f6f9b67d37b35c498d924f3fc67fbfc/aa440/next-image.png 1500w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<h2 id=\"-이미지-태그\" style=\"position:relative;\"><a href=\"#-%EC%9D%B4%EB%AF%B8%EC%A7%80-%ED%83%9C%EA%B7%B8\" aria-label=\" 이미지 태그 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>+ 이미지 태그</h2>\n<p>그냥 img를 사용하면 Next.js에서 제공하는 <code class=\"language-text\">next/Image</code>가 권장된다는 경고 문구가 나온다. 이는 두가지 케이스로 나뉜다.</p>\n<ol>\n<li>\n<p>로컬 이미지 : public 폴더에다가 넣고 import해주면 된다.</p>\n</li>\n<li>\n<p>url등으로 경로가 설정된 외부 이미지</p>\n<p><code class=\"language-text\">next.config.js</code>를 건드려줘야 하는데 공식문서에 나온대로만 해놓자. 나는 도메인을 이렇게 적어주었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//next.config.js</span>\n<span class=\"token keyword\">const</span> nextConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">reactStrictMode</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">images</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">domains</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"image.tmdb.org\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> nextConfig<span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ol>\n<p>그럼 이미지 태그를 html이 아닌 자체 컴포넌트로 사용하는 이유가 무엇일까? Next.js는 사용자의 경험을 매우 중요하게 생각하는데, 이미지의 원본이 다운로드 될 필요가 없다고 판단한다. 이미지는 보면 Chrome의 Network 탭에서 보면 한번에 다운로드되지 않으며, 해당 이미지가 보여질 위치일때(스크롤 위치에 따라) 사전에 정의한 사이즈만큼만 다운로드 되어진다. 이는 로딩시간과 부하를 줄여주는데 큰 도움이 될 것이다.</p>\n<h2 id=\"문제점\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C%EC%A0%90\" aria-label=\"문제점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제점</h2>\n<p>우리는 Next.js에서 초기의 모습을 html로 만들어서 브라우저로 번들링된 js파일들과 함께 보내온다고 저번에 공부했다. 하지만 useEffect를 사용하면, 브라우저 단에서 외부 서버의 데이터를 fetch해오므로, view page source code를 했을 때, 영화 정보가 나오지 않는 것을 확인할 수 있다. 이 경우, 영화 정보를 보여주는 사이트인데, 이러한 내용이 검색 엔진에 포함되지 않을 확률이 생기게 된다. 이를 서버사이드에서 해주기 위해 우리는 <code class=\"language-text\">getServersideProps</code>함수를 이용할 필요가 있다.</p>\n<h1 id=\"서버-사이드-렌더링--getserversideprops\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B2%84-%EC%82%AC%EC%9D%B4%EB%93%9C-%EB%A0%8C%EB%8D%94%EB%A7%81--getserversideprops\" aria-label=\"서버 사이드 렌더링  getserversideprops permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서버 사이드 렌더링 : getServersideProps</h1>\n<p>서버에서는 초기상태를 빌드하여 브라우저로 보내주는데, 동적 페이지의 경우 다른 서버에서 받아온 정보 또한 초기상태에 포함되어야 하는지 여부에 따라 다양해질 것 같다. 예를 들어 수집될 필요가 없는 외부 정보라면 굳이 서버에 부하를 주지 않고, 브라우저에서 동작하도록 하게 하면 되고, 사이트에 중요한 정보라면 서버단에서 렌더링할 필요가 있다. 이것은 서버사이드렌더링이 일어나길 원하는 페이지에서 <code class=\"language-text\">getServersideProps</code>함수를 오버라이딩해줌으로써 가능하다.</p>\n<p>또한, 컴포넌트는 props로 함수에서 리턴하는 것을 가져올 수 있다. 코드는 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">//index.js에 추가</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Home</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> results <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getServerSideProps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//request time에 서버에서 처리하여 default export되는 componenet에게 넘길 내용을 정의한다</span>\n  <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://api.themoviedb.org/3/movie/popular?api_key=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">API_KEY</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> results <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">props</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> results <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이렇게 하면 보이는 결과는 똑같지만, view page sources를 해줬을 때 img의 정보가 들어가 있는 것을 확인할 수 있다! 서버에서 요청될때 렌더링하여 브라우저로 보내주기 때문에 그렇다! 그렇다고 해서 모든 내용이 서버에서 렌더링된다면 이는 서버에 부하를 일으킬 것이므로, <strong>적당한 타협이 필요</strong>하다. SSR 방식은 request time에 서버가 페이지를 렌더링하여 응답을 하는 것이다. 만약 정적 사이트의 경우에는 사전에 pre-rendered 되어있고, 모든 유저에게 똑같은 정보를 보내주면 된다. 이는 SSR과 또 다른 의미(static generation)이며, 다음에 자세히 알아보도록 하자.</p>\n<h1 id=\"로컬호스트를-오픈하여-테스트해보기-localtunnel-이용\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EC%BB%AC%ED%98%B8%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EC%98%A4%ED%94%88%ED%95%98%EC%97%AC-%ED%85%8C%EC%8A%A4%ED%8A%B8%ED%95%B4%EB%B3%B4%EA%B8%B0-localtunnel-%EC%9D%B4%EC%9A%A9\" aria-label=\"로컬호스트를 오픈하여 테스트해보기 localtunnel 이용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>+로컬호스트를 오픈하여 테스트해보기 (localtunnel 이용)</h1>\n<p>production은 아니지만, 개발 단계에서 간단하게 외부 환경에서 테스트해볼 수 있는 오픈소스가 있다. 좀 느려도 해볼만 하다고 생각한다. 해당 포트에 서버 프로그램이 실행중이라면, 그 포트를 외부에서 접근가능하게 하는데 보안 등 어려운 설정들이 많이 필요한데, <code class=\"language-text\">localtunnel</code>은 정말 간단하게 이를 허용해줄 수 있다. <a href=\"https://localtunnel.github.io/www/\">공식 사이트</a>를 보면 아주 간단하게 로컬 서버를 외부에 공개할 수 있다. 우선, 글로벌로 <code class=\"language-text\">localtunnel</code>패키지를 설치하고, 해당 로컬 서버의 포트를 열어주면 url이 나오게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-g</span> localtunnel\n$ lt <span class=\"token parameter variable\">--port</span> <span class=\"token number\">3000</span>\nyour url is: https://perfect-seahorse-12.loca.lt\t</code></pre></div>\n<p>이러한 식으로 url이 나오고, 3000번 포트에 서버가 실행되고 있다면, 어디서나 정상적인 접근이 가능할 것이다. (초기 화면이 있는데, 7일마다 버튼만 눌러주면 안나오는 것 같다)</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 216.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAArCAIAAAD3xz8iAAAACXBIWXMAACE4AAAhOAFFljFgAAAHU0lEQVRIx5WVa1BTZxrH821nd/bD7sx2putYR6pAAbEqI3a5SAsrKEkQyCEhhGsiCEm4CLYYAgkhXEO9UJSbtHWRityp3ASmRRFQpCAujjcWcZCE3AicJOScnOsOpEW2wnb3/+k97/v83ve5zXkoGIYZjUaTyQRBEPk/CIIgi8ViNptxHKdYLJbp6empqanZ2dnfJK1W6+Tk5IsXL8bGxiAIohAEsXFG4DhhE05srPF1Eb/orTFBUMj/U5tvWYP1Q/d0d4eMT58ujYyiRuOaiXaFVBtICIER68zMzOvXr2EYfveiNRhSqqx6PWY2QyoVgSBr22aINK6SCIbhuF6n02q1KIpuAW8OgyTJ9WBxjCQwgsDWo/15H7cFT2wKn6BYLPDKCqjTLakXNSrlolK5+OaNUq3W6nXLWs2SVrOkUetUKvXCgkqpXFSp1GtHegMIGiEIplgsEAia9HqDWq1dXNQolYsaje7x4+m+2/3j4xMTE48ePXo8OzunUqmVysXFRc0vsMligSkwjFgssNFoBkGTwbCi0eiMRvPw8KhCUXrunKi6+qpUmnf//gOjcVWr1RsMKyBoMhrNFgsMwwgFQVAYRiDIuroKWa3Iu1nBMXQjchhGVlchCLLCMIIgKAXDMBuP4+Tc3Hy2pDhbqpDILorERcWltYXn665821lX33yprLqgqHx+XonjBAwjKIqhKEbBcQLDcNubNxo7//zXQ/vcAmNP5eTnV9TUtl4oa0gVVXJ4mQL+Gcd9PjebOtebdL2GOEGxJR1FMZIkG1t66KHCtIyijqauV+MPX3bdGm5tH+jsafiuNTu76NMAbtv3/SRJIij2c6lsHYdha3BLW29efs29H0dv1F2vP50m/4tjVVRMf2tDV3N7VVX9Mb+wrs4+kiQxDHvbnrYeIEly6N6EOLficp6iNivrcw9f2WH/a9zwBmliXeG5wY626OCInls968b42/bcgAd+uJ+ULGsUnOtNPjXypVS+w6kuinMzLb4j+aSyq1yewOts79wSXvu+ffsHLptfwY9UjdY+6+2TBYTy3P0yDnl38VnqVunls6k2t7eGe7r7kzmJk9WCie5rEkb0lcjopFDO7h0HXHc7XQjzKxCk9g8MbQt/f6svlZu20CGuTgiJOuJZGRNVfFro5ubrsmNXkzDwSz6/p7t/C9iW7ev1TcGBUSPfymq4VKmTQ83JgLrEhOqUtPPR7Je16Sl0WtPNlg3jX8PX/nEjKiKpvqK2ozy3MZnTlUjt/DzmQU1Rf83FHqmQetijubljC9jmSWdXXzxXyGRwMvnJ/TWFz9uv/qun4n5lxrhMcrekJPVUanf3wBZuE+ulejg2TqeFx7Djq+Ty5sKcO19JBssy+xQZdxXSC/zkMCrQ2719tvt6+6m0aH5cZnluSWWuTMTmZIYGX83NbqisykoRebv7tba0bxnzGtzc3PKJFzUGSGJ4neT4h7MCTsfQYrn0CM7fI+jHoj+0O9DQ0LRtwq5f/+53v//TfrcTB90D93981MnF4+BBn0MHfRwcDzs4e//hjzsbt8y2rdHn599IciR5ckVJaaVEWiTOKciRFsnkpTJZcV5ecUFBqVKp2jB+C28IRdGlJZ3BoEcQKwiuoCgCgivLy4aVleWt/9ubtWwwDPQPDA0NTU5OtrW2jQwPPxwbm/hpYnBwEATB34A3BBrB5zMv//nkCYIg29m847bFhCGwQaube/JcOTO38Gzm1dT0slaDolYrZCb+Cwwt68EfW6yaV9rphyOiuJ8kvAdpwNDZ6KVXT8G5qYVbtRYTuC1s1ChXHz8w32myVkQSl/zJ6iCyjoNfOQ5/zTPcadGODoBa1a9nlW0KEyQJvnm9Up5uFHuYxa6mr1imbwTmr1OMl6NNGfag2Ft3s2xZryU2TVnKxthde3n2xWr7BUjuawl/72VGqE5wRJ946FnqyeWIHSapj2XoxuryfxSMIpPJ5HJ5UWFhSUF+SVZmWWZqdbhv5acuikhGabh/aUSgghNa8ZlLFed4mehMiVikKCwoKSrOz8+XSqWUuLi4pCS+TJp7NlmQI0i8KDhVyedd4fPKhacufZF+/oygnM+tSOJeSYgtPR0nFfJTkxKlEomAL6BSqZSEhPhkoVCSnXM2WShKiJfzYgrZDAWHoYiLKI2PLOGxi6NZRazgAnaoLJYjOp2QLhTkiMUpQgGTyaQAAAAwwwEGg0Gj0708qa7OIR/t4bjYx33sEOvuFufuFrPfIdx5T5Cz04lD7jRvbyCIBoSxGRE8JpNFYbHCwyITwgAghEY77uFxzHUf1XEv66M9XOcPuUcD4rz8o5zsQhztjh3w8DvKOO7lHUo7AbB5AC+LGR5JYbFYTCaLCYSF0GgBHh6fOTn57tpJ/+B9lt3OCPvd7L27Q+12+u9833vXB0ddXP09PUPodCYQxmKxWSyWDWba4OOenj4O9hEef/siNEgUEiQGgrOA4MyQoPQQOnDksKf93gBPrxA6PQwAbNC/AVpzc+rFgBFDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"localtunnel\" title=\"localtunnel\" src=\"/static/8da232f4abf5388c128e43a4b48838b5/37523/localtunnel.png\" srcset=\"/static/8da232f4abf5388c128e43a4b48838b5/e9ff0/localtunnel.png 180w,\n/static/8da232f4abf5388c128e43a4b48838b5/f21e7/localtunnel.png 360w,\n/static/8da232f4abf5388c128e43a4b48838b5/37523/localtunnel.png 720w,\n/static/8da232f4abf5388c128e43a4b48838b5/302a4/localtunnel.png 1080w,\n/static/8da232f4abf5388c128e43a4b48838b5/78797/localtunnel.png 1125w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>오늘까지 한 코드는 깃허브에 올려놓았다. 다음에는 static generation(SSG), api, production mode, next config에 나오는 주요 속성등을 공부해보도록 하자!</p>","frontmatter":{"date":"March 10, 2022","title":"(React) NextJS 입문해보기 - (2) data fetching, localtunnel 이용하여 공개하기","categories":"FE","author":"choieastsea","emoji":"😃"},"fields":{"slug":"/FE-NextJS-2/"}},"prev":{"id":"a31e2810-4fcd-59b5-a65f-0bd325e9597f","html":"<p>Greedy 알고리즘의 개념에 대하여 익히고, 문제를 몇개 풀어보는 시간을 가져보자.</p>\n<h1 id=\"greedy란\" style=\"position:relative;\"><a href=\"#greedy%EB%9E%80\" aria-label=\"greedy란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Greedy란</h1>\n<p>욕심쟁이기법이라고도 한다. 매 과정에서 최적 선택을 고르고, 이것이 곧 전체의 최적 선택이 되는 것을 의미한다.</p>\n<h2 id=\"greedy-문제의-증명-방법\" style=\"position:relative;\"><a href=\"#greedy-%EB%AC%B8%EC%A0%9C%EC%9D%98-%EC%A6%9D%EB%AA%85-%EB%B0%A9%EB%B2%95\" aria-label=\"greedy 문제의 증명 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Greedy 문제의 증명 방법</h2>\n<p>문제를 greedy하게 풀어야겠다는 생각이 들면, 보통 문제의 제약 조건 안에서 최적의 선택을 수행하면 된다. 뭔가 그렇게 푸는게 맞을거 같은데, 확신하기 어려운(증명하기 어려운) 경우가 종종 발생하는데, 이는 간단하게 <strong>귀류적으로 생각</strong>하면 된다. A, B, … , C 중에서 현재 가장 최적의 A를 골랐다고 해보자. 만약 A를 선택하지 않고 다른 B나 C를 선택하였을 경우, A를 선택하였을 경우보다 더 좋은 답을 얻지는 못한다는 것을 보이면 된다. 따라서 A를 선택하는 것이 최적이고, 답이라는 결론을 얻을 수 있다.</p>\n<h1 id=\"문제-풀이\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C-%ED%92%80%EC%9D%B4\" aria-label=\"문제 풀이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제 풀이</h1>\n<h2 id=\"codeforces-734b\" style=\"position:relative;\"><a href=\"#codeforces-734b\" aria-label=\"codeforces 734b permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>codeforces 734B</h2>\n<p><a href=\"https://codeforces.com/problemset/problem/734/B\">B. Anton and Digits</a></p>\n<p>2,3,5,6이 적혀 있는 카드들이 있을 때, 여기서 32와 256을 만들려고 한다. 이 카드들로 만들수 있는 조합 중 가장 그 합이 큰 수를 구하면 되는 것이다.</p>\n<ul>\n<li>input : (순서대로) k2 k3 k5 k6 (kn은 n의 카드 갯수)</li>\n<li>output : maximum sum of 32 and 256</li>\n</ul>\n<p>256의 갯수를 a, 32의 갯수를 b라고 했을 때 합은 <code class=\"language-text\">256*a+32*b</code>임을 알 수 있다. 합이 최대가 되기 위해서는 a가 커야한다. 따라서, 256을 최대한 많이 만드는 방법으로 greedy하게 진행한다. 256과 32가 만들어질 때 공통적으로 필요한 숫자는 2인데, 2는 최대한 256에게 붙어서 만들어져야 한다. 그 이유는 2가 하나 있고 256또는 32를 만들 수 있다고 가정했을 때, 256이 32보다 더 크므로 합이 최대가 되기 위해 32를 고르면 256을 고르는 것 보다 합이 작아지기 때문이다. 따라서 코드는 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;iostream></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;bits/stdc++.h></span></span>\n\n<span class=\"token keyword\">using</span> <span class=\"token keyword\">namespace</span> std<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">int</span> k2<span class=\"token punctuation\">,</span> k3<span class=\"token punctuation\">,</span> k5<span class=\"token punctuation\">,</span> k6<span class=\"token punctuation\">;</span>\n    cin <span class=\"token operator\">>></span> k2 <span class=\"token operator\">>></span> k3 <span class=\"token operator\">>></span> k5 <span class=\"token operator\">>></span> k6<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> <span class=\"token function\">min</span><span class=\"token punctuation\">(</span><span class=\"token function\">min</span><span class=\"token punctuation\">(</span>k2<span class=\"token punctuation\">,</span> k5<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> k6<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    k2 <span class=\"token operator\">-=</span> a<span class=\"token punctuation\">;</span> <span class=\"token comment\">// k2>=0</span>\n    <span class=\"token keyword\">int</span> b <span class=\"token operator\">=</span> <span class=\"token function\">min</span><span class=\"token punctuation\">(</span>k2<span class=\"token punctuation\">,</span> k3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    cout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token number\">256</span> <span class=\"token operator\">*</span> a <span class=\"token operator\">+</span> <span class=\"token number\">32</span> <span class=\"token operator\">*</span> b <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"codeforces-158b\" style=\"position:relative;\"><a href=\"#codeforces-158b\" aria-label=\"codeforces 158b permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>codeforces 158B</h2>\n<p><a href=\"https://codeforces.com/problemset/problem/158/B\">B.Taxi</a></p>\n<p>1명에서 4명 사이의 그룹을 이루고 있는 아이들이 있다. 이 아이들이 4인승 택시를 타려고 하는데, 같은 그룹은 무조건 한 택시에 타도록 하는 최소 택시 수를 구하는 문제이다.</p>\n<ul>\n<li>input : n(그룹의 수) / s1 s2 … sn(1~4명 사이의 그룹 리스트)</li>\n<li>output : 필요한 최소의 택시 수</li>\n</ul>\n<p>4인승 택시를 가장 적게 타려면, 택시에 최대한 인원을 4명을 맞춰서 타야한다. 만약, 그러지 않고 인원을 줄여서 타면 택시의 수가 더 늘어날 수 밖에 없기 때문이다. 따라서, 아래와 같이 이용하면 될 것이다.</p>\n<ul>\n<li>4명의 경우 한 그룹이 택시 한대를 차지</li>\n<li>3명의 경우, 1명 그룹과 택시 한대를 차지\n<ul>\n<li>위 결과, 3명 그룹이 남는 경우 : 한자리를 비운채로 3명이서 택시 한대를 차지한다.</li>\n<li>위 결과, 1명 그룹이 남는 경우 : 다음 단계 진행한다.</li>\n</ul>\n</li>\n<li>2명 그룹 둘이서 택시 한대를 차지\n<ul>\n<li>2명 그룹이 남지 않는 경우(k2가 짝수) : 다음 단계 진행한다.</li>\n<li>2명 그룹이 하나 남는 경우 : 1명 그룹을 최대 2팀 더 태워 택시 한대를 차지한다.</li>\n</ul>\n</li>\n<li>1명 그룹이 남은 경우 : 4명당 한 대의 택시를 차지한다. 마지막에 1~3명이 남는다면, 택시 한대를 추가적으로 차지한다.</li>\n</ul>\n<p>좀 귀찮긴 하지만, 위의 경우를 모두 생각할 필요가 있다. c라는 배열을 만들어서, i번째 인덱스에 i명 그룹의 수가 되도록 초기화를 해준 후 진행하였다. 코드는 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;iostream></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;bits/stdc++.h></span></span>\n\n<span class=\"token keyword\">using</span> <span class=\"token keyword\">namespace</span> std<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">int</span> n<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> c<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> k<span class=\"token punctuation\">;</span>\n    cin <span class=\"token operator\">>></span> n<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        cin <span class=\"token operator\">>></span> k<span class=\"token punctuation\">;</span>\n        c<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">int</span> taxi_count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  \t<span class=\"token comment\">// 4명이서 택시 하나</span>\n  \ttaxi_count <span class=\"token operator\">+=</span> c<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  \t<span class=\"token comment\">// 3명 + 1명이서 택시 하나</span>\n    taxi_count <span class=\"token operator\">+=</span> c<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    c<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-=</span> <span class=\"token function\">min</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \t<span class=\"token comment\">// 2명끼리 택시 하나</span>\n    taxi_count <span class=\"token operator\">+=</span> c<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    c<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">%=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 2명 + 1명 + 1명</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        taxi_count<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n        c<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//일단 줄이고 생각해도 됨</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">//나머지 1명이서 </span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        taxi_count <span class=\"token operator\">+=</span> c<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">/</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n        c<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">%=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            taxi_count <span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    cout <span class=\"token operator\">&lt;&lt;</span> taxi_count <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"codeforces-160a\" style=\"position:relative;\"><a href=\"#codeforces-160a\" aria-label=\"codeforces 160a permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>codeforces 160A</h2>\n<p><a href=\"https://codeforces.com/problemset/problem/160/A\">A.Twins</a></p>\n<p>동전이 n개 있고, 각 동전에는 숫자가 적혀있다. 만약, 쌍둥이와 이 동전들을 나눠가지려고 할 때, 내가 더 많은 값의 동전을 가져가는 최소의 동전의 수를 묻는 문제이다.</p>\n<ul>\n<li>input : n(number of coins)/ a1  a2  …   an (동전에 적혀있는 숫자)</li>\n<li>output : 절반 초과를 차지하기 위한 최소한의 동전 숫자</li>\n</ul>\n<p>a1부터 for 루프로 더해가며 절반 초과가 되는 최초의 i를 발견하면 될 것 같지만, 이는 옳지 않다. 왜냐하면 그거보다 더 적은 조합으로 동전의 합을 더 크게 할 수 있기 때문이다. 따라서 동전의 <u>값어치에 따라 정렬(sort)을 하고, 큰 값어치의 동전부터 하나씩 가져가면서 절반 초과가 되는 지점을 찾는</u> 것이 맞다. n이 100 이하이므로, a라는 정적배열을 생성하여 동전의 값들을 기록하도록 하였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;iostream></span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;bits/stdc++.h></span></span>\n\n<span class=\"token keyword\">using</span> <span class=\"token keyword\">namespace</span> std<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">int</span> n<span class=\"token punctuation\">,</span> total <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    cin <span class=\"token operator\">>></span> n<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> a<span class=\"token punctuation\">[</span><span class=\"token number\">100</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">//동전 배열</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        cin <span class=\"token operator\">>></span> a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        total <span class=\"token operator\">+=</span> a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">sort</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> a <span class=\"token operator\">+</span> n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> sum <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> std <span class=\"token operator\">=</span> total <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> n <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">--</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        count<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>sum <span class=\"token operator\">+</span> a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> std<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">else</span>\n        <span class=\"token punctuation\">{</span>\n            sum <span class=\"token operator\">+=</span> a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    cout <span class=\"token operator\">&lt;&lt;</span> count <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1 id=\"결론\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결론</h1>\n<p>greedy는 문제의 추가적인 제약 조건을 잘 살피고 풀도록 하자. 현재 선택하는 최적에 대한 확신이 없을 때에는, 차선이나 다른 방안을 선택했을 때 더 좋아지지 않는다는 것을 보임으로써 확신을 가질 수 있다.</p>","frontmatter":{"date":"March 19, 2022","title":"(Alg) Greedy Algorithm. 그리디(탐욕) 기법으로 문제 해결하기","categories":"Alg","author":"choieastsea","emoji":"😬"},"fields":{"slug":"/Alg-Greedy/"}},"site":{"siteMetadata":{"siteUrl":"https://choieastsea.github.io","comments":{"utterances":{"repo":"choieastsea/choieastsea.github.io"}}}}},"pageContext":{"slug":"/Alg-Prefix-Sum/","nextSlug":"/FE-NextJS-2/","prevSlug":"/Alg-Greedy/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}