{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/Django(4)-migration/",
    "result": {"data":{"cur":{"id":"565611de-2914-5d4f-af5d-738fe5e83e69","html":"<p>ì €ë²ˆì— item <code class=\"language-text\">model</code>ì„ ì •ì˜í•˜ëŠ” ê²ƒê¹Œì§€ í•´ë³´ì•˜ë‹¤. ì´ë¥¼ ìš°ë¦¬ì˜ MySQL serverì— ì ìš©ì‹œì¼œë³´ì! í•´ì•¼í•  ì¼ì€ í¬ê²Œ 3ê°€ì§€ë¡œ ë‚˜ë‰œë‹¤.</p>\n<ol>\n<li>model ì •ì˜ / ìˆ˜ì •</li>\n<li>migration file ìƒì„±</li>\n<li>DBì— ì ìš©(migrate)</li>\n</ol>\n<p>ì´ íë¦„ì„ ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë©°, ì§ì ‘ í•´ë³´ë„ë¡ í•˜ì.</p>\n<h2 id=\"migration-file-ìƒì„±\" style=\"position:relative;\"><a href=\"#migration-file-%EC%83%9D%EC%84%B1\" aria-label=\"migration file ìƒì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>migration file ìƒì„±</h2>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token operator\">>></span> python manage.py makemigrations item\nMigrations <span class=\"token keyword\">for</span> <span class=\"token string\">'item'</span><span class=\"token builtin class-name\">:</span>\n  item/migrations/0001_initial.py\n    - Create model Item</code></pre></div>\n<p>ê°€ìƒí™˜ê²½ì´ í™œì„±í™” ë˜ì–´ìˆëŠ” ìƒíƒœì—ì„œ ìœ„ì˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•œë‹¤. <code class=\"language-text\">python manage.py makemigrations {app_name}</code>ì„ í•˜ë©´ í•´ë‹¹ ì•±ì— ì¡´ì¬í•˜ëŠ” ëª¨ë¸ì˜ ë³€ê²½ì‚¬í•­ ë“±ì„ <code class=\"language-text\">{app_name}/migrations/</code>ìœ„ì¹˜ì— ì €ì¥í•´ì¤€ë‹¤. (app_nameì´ ì—†ë‹¤ë©´ ì „ì²´ ì•±ì„ íƒìƒ‰)</p>\n<p>ì‹¤ì œ ìœ„ì˜ ëª…ë ¹ì–´ê°€ ì •ìƒ ìˆ˜í–‰ë˜ë©´ <code class=\"language-text\">0001_initial.py</code> íŒŒì¼ì´ ìƒì„±ë˜ì—ˆë‹¤ëŠ” ë©”ì‹œì§€ê°€ ë‚˜ì˜¤ëŠ”ë°, íŒŒì¼ì„ ì—´ì–´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># Generated by Django 4.2 on 2023-04-12 11:38</span>\n\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>db <span class=\"token keyword\">import</span> migrations<span class=\"token punctuation\">,</span> models\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Migration</span><span class=\"token punctuation\">(</span>migrations<span class=\"token punctuation\">.</span>Migration<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    initial <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n\n    dependencies <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">]</span>\n\n    operations <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n        migrations<span class=\"token punctuation\">.</span>CreateModel<span class=\"token punctuation\">(</span>\n            name<span class=\"token operator\">=</span><span class=\"token string\">'Item'</span><span class=\"token punctuation\">,</span>\n            fields<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>\n                <span class=\"token punctuation\">(</span><span class=\"token string\">'item_id'</span><span class=\"token punctuation\">,</span> models<span class=\"token punctuation\">.</span>AutoField<span class=\"token punctuation\">(</span>primary_key<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> serialize<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> verbose_name<span class=\"token operator\">=</span><span class=\"token string\">'ìƒí’ˆì½”ë“œ'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">(</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">,</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>max_length<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> verbose_name<span class=\"token operator\">=</span><span class=\"token string\">'ìƒí’ˆëª…'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">(</span><span class=\"token string\">'price'</span><span class=\"token punctuation\">,</span> models<span class=\"token punctuation\">.</span>PositiveIntegerField<span class=\"token punctuation\">(</span>verbose_name<span class=\"token operator\">=</span><span class=\"token string\">'ìƒí’ˆê°€ê²©'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">(</span><span class=\"token string\">'stock_count'</span><span class=\"token punctuation\">,</span> models<span class=\"token punctuation\">.</span>PositiveIntegerField<span class=\"token punctuation\">(</span>verbose_name<span class=\"token operator\">=</span><span class=\"token string\">'ë‚¨ì€ìˆ˜ëŸ‰'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            options<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>\n                <span class=\"token string\">'verbose_name'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'ìƒí’ˆ'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">'verbose_name_plural'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'ìƒí’ˆë“¤'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">'db_table'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'item'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span>\n</code></pre></div>\n<p>ì´ëŸ¬í•œ íŒŒì¼ì„ ì§ì ‘ ë§Œë“¤ì–´ì„œ ê´€ë¦¬í•  ìˆ˜ë„ ìˆì§€ë§Œ, ì¥ê³ ì˜ manage.pyëŠ” ë²„ì „ë³„ë¡œ ë‚˜ëˆ„ì–´ ì´ì— ëŒ€í•œ ê´€ë¦¬ë¥¼ ìš©ì´í•˜ê²Œ í•´ì¤€ë‹¤.</p>\n<h2 id=\"migrate\" style=\"position:relative;\"><a href=\"#migrate\" aria-label=\"migrate permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>migrate</h2>\n<p>migration íŒŒì¼ì€ ì•„ì§ê¹Œì§€ íŒŒì´ì¬ ì½”ë“œë‹¨ìœ¼ë¡œ ë³€ê²½ì‚¬í•­ ë“±ì„ ê¸°ë¡í•œ ê²ƒì´ê³ , ì´ë¥¼ DBì— ì§„ì§œë¡œ ë°˜ì˜í•˜ê¸° ìœ„í•´ì„œëŠ” migrateë¥¼ ìˆ˜í–‰í•´ì£¼ë©´ ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token operator\">>></span> python manage.py migrate item\nOperations to perform:\n  Apply all migrations: item\nRunning migrations:\n  Applying item.0001_initial<span class=\"token punctuation\">..</span>. OK</code></pre></div>\n<p>ìœ„ì™€ ê°™ì´ ë‚˜ì˜¨ë‹¤ë©´ ëœ ê²ƒì´ë‹¤. ì´ì œ ìš°ë¦¬ì˜ DBë¡œ ê°€ë³´ì.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 560px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABAUlEQVQoz4WQS0+EMBSF+S2MLa+EACkLCNSEEZRBZyYESNioAcGMD9xo4sbffkxrWIyZx+LL7aL39DtV7h97PI07NE2NYRgwTROKokDXdWjbFoZhQNd1iaZpe/MQyu3dButtCdd1EMcxoigC5xxJksD1PBk48z/4YCAlF+jHVzx0z1jlOZqmkYaqqoIQAkrpHucsFcuywPklrvMCjPkIwxBBEMBxHNi2DcYYPM+D7/tymqZ52lBcWCxUvH18oh9fkGWptKyqCmn6d67rGmVZSkSoMD0aKP5GvLgq1shucvl/wnKuNVcV9QVnK4tASgi+vn8w7t7B4xjL5ZVcOLZ0qvIvfmDhlN1S4igAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"db_result1\"\n        title=\"db_result1\"\n        src=\"/static/92b8f7b9be46fc08596eb4b8b934ebf0/b06ae/db_result1.png\"\n        srcset=\"/static/92b8f7b9be46fc08596eb4b8b934ebf0/e9ff0/db_result1.png 180w,\n/static/92b8f7b9be46fc08596eb4b8b934ebf0/f21e7/db_result1.png 360w,\n/static/92b8f7b9be46fc08596eb4b8b934ebf0/b06ae/db_result1.png 560w\"\n        sizes=\"(max-width: 560px) 100vw, 560px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>item í…Œì´ë¸”ì´ ì˜ ìƒì„±ë˜ì—ˆë‹¤! <code class=\"language-text\">django_migrations</code> tableì—ëŠ” ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ìˆ˜í–‰í•œ ë¡œê·¸ê°€ ë‚¨ê²¨ì ¸ ìˆìœ¼ë©°, itemì—ëŠ” ìš°ë¦¬ê°€ ë§Œë“  ëª¨ë¸ì´ ì˜ ì ìš©ë˜ì–´ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 470px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 81.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACf0lEQVQ4y6VU2U7bUBC9v1DVjp2QOBHB2bxvZGkLESHO4hCyWRAKRQp94KFI5aVf1A/oH55qJg1F3YTUh6OZO8uZmes7FrIsI6MoKGoalLIJScmhkM8jmUwwm89xNp1inCTo9/voxzHOZzO2j8ZjJEmCxWKB5XKJ09NTdI+PIYhQURSUikWoug1JzUHTCri4XONyvcb66gqrNOVkJlgucbm+wnKVYrVa4fb2Fnd3d5hOp+j1ehCZjAwilWQZ8utXkGUJmUyGbTvQmYoSdj6SBEmSGORTVXVLuHPu8JzsJXieI34l+1+I3ytuR/iT/SXdCjWb5dlJZhk55HI51lV169vZs08xf4eIByNsNh8xGCWwHA9+ECEejuH5ISZn51ilFzhstuH6IVyPEPwTwnFcBEEIx3VhGCZM04TvB7AsG57nw7I91k2jwT6KMcyfMBnW1m6YEJ5LhAE8z2MZhiHCMAAViqIA06TLPv/wHTw/QhQGHEfwfZ/hui7nRVEEcXR0hMfHR9zf32Oz2bB8ePiETuctklEP375+QbPVQWf2GdGbGO/XF7i5+YA0TflRX19fo91uYzAY8MYIwzBgWRajWq2i0WgwqtUaKhUdlllHo16HruvQ9QP21X+cSaf8SqXCkroVhUKBvyoFUSUipRFs2+YxbNvB/v7+03WUSiU4joNms8kklEc+shGPKBaL2Nvb43uiMWjJT05OQFdBiz8cDrl72uPJZIJarYZut4v5fM6xcRzzHlMONceEBwfbUdSsyuSapvEY9AZpR8mXz+e3P5FSiacgnTqieNLpDRKXoMBWq8UjUHVKKJfLfB+UuBuRSMlOZ/qaVJAKEwnZCHT+Dssu4d74MnNuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"db_result2\"\n        title=\"db_result2\"\n        src=\"/static/38690ccce40b129505e65848fdb21aea/f96db/db_result2.png\"\n        srcset=\"/static/38690ccce40b129505e65848fdb21aea/e9ff0/db_result2.png 180w,\n/static/38690ccce40b129505e65848fdb21aea/f21e7/db_result2.png 360w,\n/static/38690ccce40b129505e65848fdb21aea/f96db/db_result2.png 470w\"\n        sizes=\"(max-width: 470px) 100vw, 470px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì—­ìœ¼ë¡œ ê¸°ì¡´ DB ìŠ¤í‚¤ë§ˆê°€ êµ¬ì¶•ëœ ìƒíƒœì—ì„œ models.pyë¥¼ ì •ì˜í•˜ë„ë¡ ì—­ì„¤ê³„í•˜ëŠ” ë°©ë²•ë„ ì¡´ì¬í•œë‹¤.</p>\n<p><code class=\"language-text\">python manage.py inspectdb > models.py</code> ì´ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤ ~</p>\n<p>ë‚˜ì¤‘ì— modelì„ <em>ì¶”ê°€í•˜ê±°ë‚˜ ìˆ˜ì •í•˜ëŠ” ê²ƒë„ ì—¬íƒœê¹Œì§€ í–ˆë˜ ë°©ë²• ê·¸ëŒ€ë¡œ ì„¤ì •í•´ì£¼ë©´ ëœë‹¤</em>. í•˜ì§€ë§Œ, í•„ë“œë¥¼ ì¶”ê°€í•˜ëŠ” ê²½ìš°ì—ëŠ” default ê°’ì„ ì§€ì •í•´ì£¼ëŠ” ë“±ì˜ ì¶”ê°€ì ì¸ ì¼ì´ í•„ìš”í•  ìˆ˜ ìˆìœ¼ë‹ˆ ì°¸ê³ í•˜ë„ë¡ í•˜ì.</p>\n<h2 id=\"migrationì˜-ì¥ì \" style=\"position:relative;\"><a href=\"#migration%EC%9D%98-%EC%9E%A5%EC%A0%90\" aria-label=\"migrationì˜ ì¥ì  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>migrationì˜ ì¥ì </h2>\n<p>ì„œë²„ í”„ë ˆì„ì›Œí¬ì—ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì§€ì›í•œë‹¤ëŠ” ê²ƒì€ ë§ì´ ì“´ë‹¤ëŠ” ê²ƒì´ë‹¤. íŠ¹íˆ, ì¥ê³ ì—ì„œëŠ” ëª¨ë¸ì„ ë‹¤ë£¨ê³ , CRUDë¥¼ í•˜ê¸°ìœ„í•´ migrationì´ í•„ìˆ˜ì ì´ë‹¤. ëª‡ê°€ì§€ ì¥ì ì„ ìƒê°í•´ë³´ì.</p>\n<ol>\n<li>SQL ë“± ì¿¼ë¦¬ ì–¸ì–´ë¥¼ ì˜ ëª°ë¼ë„ ëœë‹¤. DBì˜ ì—­í• ì •ë„ë§Œ ì´í•´í•˜ê³  ìˆë‹¤ë©´, ìƒí™©ì— ë”°ë¼ ë§ì€ ì¢…ë¥˜ì˜ DBë¥¼ ì‚¬ìš©í•˜ê²Œ ë í…ë° ê° ì–¸ì–´ë¥¼ ë°°ìš¸ í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.</li>\n<li>ë²„ì „ ê´€ë¦¬ : ì¥ê³ ì—ì„œ migrationì„ ìˆ˜í–‰í•˜ë©´, í•´ë‹¹ ë§ˆì´ê·¸ë ˆì´ì…˜ ì •ë³´ë„ ë²„ì „ë³„ë¡œ ê´€ë¦¬ê°€ ëœë‹¤. ë”°ë¼ì„œ ìŠ¤í‚¤ë§ˆì˜ ë¡¤ë°±ì´ ê°€ëŠ¥í•˜ë‹¤.</li>\n<li>ìŠ¤í‚¤ë§ˆ ê´€ë¦¬ : DBë¥¼ ê±´ë“¤ë‹¤ë³´ë©´, ì„œë²„ ëª¨ë¸ê³¼ DB tableì„ ì¼ì¹˜ì‹œí‚¤ì§€ ì•Šì•„ ì˜¤ë¥˜ê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤. ë˜í•œ, ìŠ¤í‚¤ë§ˆë¥¼ ê±´ë“œë¦¬ë‹¤ë³´ë©´ ê¸°ì¡´ì— ìˆë˜ ë°ì´í„° ë•Œë¬¸ì— ì¶©ëŒì´ ë‚˜ëŠ” ê²½ìš°ê°€ ì¦ë‹¤. ì¥ê³ ì˜ migrationì€ ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ëª‡ê°€ì§€ ë„ì›€ì„ ì œê³µí•œë‹¤.</li>\n</ol>\n<h2 id=\"ê²½ê³ ë¬¸êµ¬-ì—†ì• ê¸°\" style=\"position:relative;\"><a href=\"#%EA%B2%BD%EA%B3%A0%EB%AC%B8%EA%B5%AC-%EC%97%86%EC%95%A0%EA%B8%B0\" aria-label=\"ê²½ê³ ë¬¸êµ¬ ì—†ì• ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê²½ê³ ë¬¸êµ¬ ì—†ì• ê¸°</h2>\n<p>ë§ˆì´ê·¸ë ˆì´ì…˜ê¹Œì§€ í•  ì¤„ ì•ˆë‹¤ë©´, <code class=\"language-text\">runserver</code>ì‹œ ìƒê¸°ëŠ” ê²½ê³ ë¬¸êµ¬ë„ ì´í•´í•  ìˆ˜ ìˆì–´ì§„ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 17.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAfklEQVQI142OOw6DMBAFfQ5MEWwI/sRmnQBNwv2PNcgglC5KMXpvt3mjxrxwTyd9fNI5wXihtQHdeVrj0Z2juY00V/5A5ViYYqGkFxIEPyZSEIYhYqyn7wPWntR+3Bc2YOz3V7sq64YsGzK/meYP7jHj84LL62FZV/UfZpfhDvdZVrW2EnJZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"warning\"\n        title=\"warning\"\n        src=\"/static/d30e54d3454315733f7fa3f340999ae6/37523/warning.png\"\n        srcset=\"/static/d30e54d3454315733f7fa3f340999ae6/e9ff0/warning.png 180w,\n/static/d30e54d3454315733f7fa3f340999ae6/f21e7/warning.png 360w,\n/static/d30e54d3454315733f7fa3f340999ae6/37523/warning.png 720w,\n/static/d30e54d3454315733f7fa3f340999ae6/302a4/warning.png 1080w,\n/static/d30e54d3454315733f7fa3f340999ae6/07a9c/warning.png 1440w,\n/static/d30e54d3454315733f7fa3f340999ae6/95be1/warning.png 2574w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>18ê°œì˜ migrationì´ ì ìš©ë˜ì§€ ì•Šì•˜ë‹¤ê³  í•˜ëŠ” ê²ƒì´ë‹¤.</p>\n<blockquote>\n<p>ê·¼ë° ìš°ë¦¬ëŠ” makemigrationìœ¼ë¡œ 18ê°œë¥¼ ë§Œë“ ì ì´ ì—†ì§€ ì•ŠëŠ”ê°€??</p>\n<p>-> ì´ê²ƒë„ ì¥ê³ ê°€ ì•Œì•„ì„œ ë§Œë“¤ì–´ ì¤€ ê²ƒì´ë‹¤</p>\n</blockquote>\n<p>ì²˜ìŒì— settings.pyì—ì„œ ì¥ê³ ë¥¼ ì„¸íŒ…í•˜ê³  runserverë¥¼ í•˜ë©´ ì—¬ëŸ¬ê°€ì§€ ì„¤ì •ë“¤ì„ í†µí•˜ì—¬ ì¥ê³ ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” modelë“¤ì˜ ì •ë³´ê°€ ìƒì„±ëœë‹¤. ì´ë¥¼ ì»¤ìŠ¤í…€í•˜ì—¬ êµ¬í˜„í•  ìˆ˜ë„ ìˆì§€ë§Œ, ì¼ë‹¨ í•´ë‹¹ ëª¨ë¸ì´ ë¬´ì—‡ì¸ì§€ ëª¨ë¥´ë‹ˆê¹Œ migrateë¶€í„° í•´ì£¼ê³  ê´€ì°°í•´ë³´ì.</p>\n<p><code class=\"language-text\">python manage.py migrate</code></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token operator\">>></span> python manage.py migrate\nOperations to perform:\n  Apply all migrations: admin, auth, contenttypes, item, sessions\nRunning migrations:\n  Applying contenttypes.0001_initial<span class=\"token punctuation\">..</span>. OK\n  Applying auth.0001_initial<span class=\"token punctuation\">..</span>. OK\n  Applying admin.0001_initial<span class=\"token punctuation\">..</span>. OK\n  Applying admin.0002_logentry_remove_auto_add<span class=\"token punctuation\">..</span>. OK\n  Applying admin.0003_logentry_add_action_flag_choices<span class=\"token punctuation\">..</span>. OK\n  Applying contenttypes.0002_remove_content_type_name<span class=\"token punctuation\">..</span>. OK\n  Applying auth.0002_alter_permission_name_max_length<span class=\"token punctuation\">..</span>. OK\n  Applying auth.0003_alter_user_email_max_length<span class=\"token punctuation\">..</span>. OK\n  Applying auth.0004_alter_user_username_opts<span class=\"token punctuation\">..</span>. OK\n  Applying auth.0005_alter_user_last_login_null<span class=\"token punctuation\">..</span>. OK\n  Applying auth.0006_require_contenttypes_0002<span class=\"token punctuation\">..</span>. OK\n  Applying auth.0007_alter_validators_add_error_messages<span class=\"token punctuation\">..</span>. OK\n  Applying auth.0008_alter_user_username_max_length<span class=\"token punctuation\">..</span>. OK\n  Applying auth.0009_alter_user_last_name_max_length<span class=\"token punctuation\">..</span>. OK\n  Applying auth.0010_alter_group_name_max_length<span class=\"token punctuation\">..</span>. OK\n  Applying auth.0011_update_proxy_permissions<span class=\"token punctuation\">..</span>. OK\n  Applying auth.0012_alter_user_first_name_max_length<span class=\"token punctuation\">..</span>. OK\n  Applying sessions.0001_initial<span class=\"token punctuation\">..</span>. OK</code></pre></div>\n<p>í¬ê²Œë³´ë©´, contenttypes, auth, admin, ê·¸ë¦¬ê³  sessionsê³¼ ê´€ë ¨ëœ ê²ƒì„ì„ ì•Œ ìˆ˜ ìˆë‹¤.</p>\n<p>ì²˜ìŒì— settings.pyë¥¼ ê±´ë“¤ì§€ ì•Šì•˜ë‹¤ë©´, INSTALLED_APPSì— ì•„ë˜ì™€ ê°™ì€ ê²ƒë“¤ì´ ë“¤ì–´ìˆì„ ê²ƒì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">INSTALLED_APPS <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'django.contrib.admin'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'django.contrib.auth'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'django.contrib.contenttypes'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'django.contrib.sessions'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'django.contrib.messages'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'django.contrib.staticfiles'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µë˜ëŠ” ì•±ë“¤ì—ì„œ í•„ìš”í•œ ëª¨ë¸ë“¤ì„ ë§ˆì´ê·¸ë ˆì´ì…˜ í•´ì¤€ ê²ƒì´ë¼ê³  ë³´ë©´ ëœë‹¤. ê° ì•±ë“¤ì´ ë¬´ìŠ¨ ì—­í• ì„ í•˜ëŠ”ì§€ëŠ” ì°¨ì°¨ ë°°ì›Œê°€ë„ë¡ í•˜ìâ€¦</p>\n<p>ì˜¤ëŠ˜ ì‹¤í–‰í•œ ì†ŒìŠ¤ì½”ë“œëŠ” <a href=\"https://github.com/choieastsea/market-guri-django/commit/6a65b2ba32b52d258aacb3e2789722aacf00fcaa\">ì—¬ê¸°ì—</a> ìˆìœ¼ë‹ˆ ì°¸ê³ í•˜ì.</p>\n<h2 id=\"ê´€ë¦¬ì-í˜ì´ì§€\" style=\"position:relative;\"><a href=\"#%EA%B4%80%EB%A6%AC%EC%9E%90-%ED%8E%98%EC%9D%B4%EC%A7%80\" aria-label=\"ê´€ë¦¬ì í˜ì´ì§€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê´€ë¦¬ì í˜ì´ì§€</h2>\n<p>ì¥ê³ ì—ì„œëŠ” ê´€ë¦¬ì í˜ì´ì§€ì— ëŒ€í•œ ê¸°ëŠ¥ì„ ì œê³µí•´ì¤€ë‹¤. modelì„ ë§Œë“¤ì—ˆë‹¤ë©´ ê´€ë¦¬ì í˜ì´ì§€ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•˜ì—¬ ë°ì´í„°ë¥¼ CRUDí•  ìˆ˜ ìˆë‹¤. ì•„ì§ apiê°€ ì—†ìœ¼ë¯€ë¡œ, ê´€ë¦¬ìë¥¼ í†µí•´ì„œ ë°ì´í„°ë¥¼ ëª‡ê°œ ë§Œë“¤ì–´ì£¼ì.</p>\n<p>ìš°ì„  ê°€ìƒí™˜ê²½ì—ì„œ ë‹¤ìŒì„ ì…ë ¥í•˜ê³  ê´€ë¦¬ìë¥¼ ìƒì„±í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token operator\">>></span> python manage.py createsuperuser</code></pre></div>\n<p>ì•„ì´ë””, ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë©´ ìŠˆí¼ ê´€ë¦¬ìê°€ ìƒì„±ë  ê²ƒì´ë‹¤. ìŠˆí¼ ê´€ë¦¬ìëŠ” ëª¨ë“  ê¶Œí•œì´ ìˆëŠ” ì‚¬ìš©ìë¡œì¨ ê´€ë¦¬ì— ì‹ ì¤‘í•´ì•¼ í•œë‹¤.</p>\n<p>ê·¸ë¦¬ê³ , ì„œë²„ë¥¼ ì¼  ìƒíƒœì—ì„œ localhost:8000/adminìœ¼ë¡œ ì ‘ì†í•´ë³´ì. conf/urls.pyì— adminì— ëŒ€í•œ ì„¤ì •ì´ ë˜ì–´ìˆìœ¼ë¯€ë¡œ ì¥ê³ ì˜ ì–´ë“œë¯¼ í˜ì´ì§€ë¡œ ì—°ê²° ë  ê²ƒì´ë‹¤.</p>\n<p>ë¡œê·¸ì¸í•˜ì˜€ì§€ë§Œ, ì•„ì§ Itemì„ ìƒì„±, ìˆ˜ì •í•  ìˆ˜ ì—†ë‹¤. ì•„ì§ ë“±ë¡ì„ ì•ˆí•´ì£¼ì—ˆê¸° ë•Œë¬¸ì´ë‹¤.</p>\n<p>item/admin.pyì— ê°€ì„œ Item modelì„ ë“±ë¡í•´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>contrib <span class=\"token keyword\">import</span> admin\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Item\n\nadmin<span class=\"token punctuation\">.</span>site<span class=\"token punctuation\">.</span>register<span class=\"token punctuation\">(</span>Item<span class=\"token punctuation\">)</span></code></pre></div>\n<p>ê´€ë¦¬ì í˜ì´ì§€ì— ë‹¤ì‹œ ì ‘ê·¼í•˜ë©´ Item ëª¨ë¸ì— ëŒ€í•œ íƒ­ì´ ìƒì„±ë˜ì–´ ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABL0lEQVQoz33M30rCYBjH8V1kddwFlFdRRx0aYdAFdGIHHRQJQceBQmiEhK65+W+67dVNt3fv9n7DSWJGPvDhgd/B1yiVK5yUK5QuK5yWrzi+uObg7IbD8/8d7WEIERAEAj8QpKkiz3P0iv6NzdekSiFTRZrlBakyklQVjKfmF7WWVXj+cHhp96m92zw0rT8emxb3byYDsUBniigMiaIQmSTkWUaWKYyW7WL7IT1vjjWdFcyJoOuume6MjuvRsoe0+0Ma3QGzWBYx23EYjUYIIYjjmOVyiZFKCWgg36G3ZCiVgIpJ4rjYoijCcRx830dKWQRXjLtGl2q9Q7WxR33trtHh9vWTnheipMTzvCKYJMmGYboB0zDGnS+Z7PjZxvOInhcw8AO6Y5+FTNk+rfXGN8YC9KwcKKB3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20230413194233810\"\n        title=\"image-20230413194233810\"\n        src=\"/static/1c6195f8da7e7541d87399c2a2452d8b/37523/admin.png\"\n        srcset=\"/static/1c6195f8da7e7541d87399c2a2452d8b/e9ff0/admin.png 180w,\n/static/1c6195f8da7e7541d87399c2a2452d8b/f21e7/admin.png 360w,\n/static/1c6195f8da7e7541d87399c2a2452d8b/37523/admin.png 720w,\n/static/1c6195f8da7e7541d87399c2a2452d8b/302a4/admin.png 1080w,\n/static/1c6195f8da7e7541d87399c2a2452d8b/07a9c/admin.png 1440w,\n/static/1c6195f8da7e7541d87399c2a2452d8b/29beb/admin.png 1830w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Item modelì„ ì„ ì–¸í•  ë•Œ meta ì •ë³´ë¡œ ì ì–´ì£¼ì—ˆê¸°ì— í•œê¸€ë¡œ ì˜ ë‚˜ì˜¨ë‹¤. Add ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ëª‡ê°œë§Œ ì¶”ê°€í•´ë³´ì!</p>\n<p>ê´€ë¦¬ì í˜ì´ì§€ëŠ” ì¼ë‹¨ ë‹¤ìŒì— ë‹¤ì‹œ ë‹¤ë¤„ë³´ë„ë¡ í•˜ê³ , í•´ë‹¹ ì½”ë“œëŠ” <a href=\"https://github.com/choieastsea/market-guri-django/commit/e3f2f67047a77be071523f3817bdf70208cf84e9\">ì—¬ê¸°</a>ë¥¼ ì°¸ê³ í•œë‹¤.</p>\n<p>ì´ì œ ìš°ë¦¬ëŠ” ì„œë¹„ìŠ¤ì— í•„ìš”í•œ ë°ì´í„°ë¥¼ ëª¨ë¸ í´ë˜ìŠ¤ ë‹¨ìœ„ë¡œ ë¬¶ì–´ ê´€ë¦¬í•  ìˆ˜ ìˆì–´ì¡Œë‹¤. í•˜ì§€ë§Œ, ì´ë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ì„œëŠ” ëª‡ê°€ì§€ ì•Œì•„ì•¼í•  ê²ƒë“¤ì´ ìˆë‹¤. ë‹¤ìŒì—ëŠ” DRFì˜ serializerì— ëŒ€í•˜ì—¬ ì•Œì•„ë³´ë„ë¡ í•˜ì!</p>","excerpt":"ì €ë²ˆì— item ì„ ì •ì˜í•˜ëŠ” ê²ƒê¹Œì§€ í•´ë³´ì•˜ë‹¤. ì´ë¥¼ ìš°ë¦¬ì˜ MySQL serverì— ì ìš©ì‹œì¼œë³´ì! í•´ì•¼í•  ì¼ì€ í¬ê²Œ 3ê°€ì§€ë¡œ ë‚˜ë‰œë‹¤. model ì •ì˜ / ìˆ˜ì • migration file ìƒì„± DBì— ì ìš©(migrate) ì´ íë¦„ì„ ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë©°, ì§ì ‘ í•´ë³´ë„ë¡ í•˜ì. migration file ìƒì„± ê°€ìƒí™˜ê²½ì´ í™œì„±í™” ë˜ì–´ìˆëŠ” ìƒíƒœì—ì„œ ìœ„ì˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•œë‹¤. ì„ í•˜ë©´ í•´ë‹¹ ì•±ì— ì¡´ì¬í•˜ëŠ” ëª¨ë¸ì˜ ë³€ê²½ì‚¬í•­ ë“±ì„ ìœ„ì¹˜ì— ì €ì¥í•´ì¤€ë‹¤. (app_nameì´ ì—†ë‹¤ë©´ ì „ì²´ ì•±ì„ íƒìƒ‰) ì‹¤ì œ ìœ„ì˜ ëª…ë ¹ì–´ê°€ ì •ìƒ ìˆ˜í–‰ë˜ë©´  íŒŒì¼ì´ ìƒì„±ë˜ì—ˆë‹¤ëŠ” ë©”ì‹œì§€ê°€ ë‚˜ì˜¤ëŠ”ë°, íŒŒì¼ì„ ì—´ì–´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤. ì´ëŸ¬í•œ íŒŒì¼ì„ ì§ì ‘ ë§Œë“¤ì–´ì„œ ê´€ë¦¬í•  ìˆ˜ë„ ìˆì§€ë§Œ, ì¥ê³ ì˜ manage.pyëŠ” ë²„ì „ë³„ë¡œ ë‚˜ëˆ„ì–´ ì´ì— ëŒ€í•œ ê´€ë¦¬ë¥¼ ìš©ì´í•˜ê²Œ í•´ì¤€ë‹¤. migrate migration íŒŒì¼ì€ ì•„ì§ê¹Œì§€ íŒŒì´ì¬ ì½”ë“œë‹¨ìœ¼ë¡œ ë³€ê²½ì‚¬í•­ ë“±ì„ ê¸°ë¡í•œ ê²ƒì´ê³ , ì´ë¥¼ DBì— ì§„ì§œë¡œ ë°˜ì˜í•˜ê¸° ìœ„í•´ì„œëŠ” migrateë¥¼ ìˆ˜í–‰í•´ì£¼ë©´ ëœë‹¤. ìœ„ì™€ â€¦","frontmatter":{"date":"April 14, 2022","title":"(Django) ì¥ê³  api ì„œë²„ë¥¼ ì´ìš©í•œ í”„ë¡œì íŠ¸ [4 - DB(migration)]","categories":"BE","author":"choieastsea","emoji":"ğŸ™„"},"fields":{"slug":"/Django(4)-migration/"}},"next":{"id":"edcd3751-d5fc-5f9a-9826-0c0da687ecfa","html":"<p>ì €ë²ˆê¹Œì§€ëŠ” modelì˜ êµ¬ì¡°ë¥¼ DB schemaì— ì ìš©í•˜ëŠ” migrationì„ ì•Œì•„ë³´ì•˜ë‹¤. ì˜¤ëŠ˜ì€ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³ , ì €ì¥ëœ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•  ë•Œ í•„ìš”í•œ ê°œë…ì¸ <strong>ì§ë ¬í™”</strong>ì— ëŒ€í•˜ì—¬ ì•Œì•„ë³´ì! ì–´ë µì§€ë§Œ ì´í•´ë¥¼ í•´ì•¼ ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°ˆ ìˆ˜ ìˆìœ¼ë‹ˆ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.</p>\n<h1 id=\"drf-serializer\" style=\"position:relative;\"><a href=\"#drf-serializer\" aria-label=\"drf serializer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DRF Serializer</h1>\n<p>ì¥ê³ ì—ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ <code class=\"language-text\">forms</code>ì´ë¼ëŠ” ê²ƒì´ ìˆì§€ë§Œ, ì•ìœ¼ë¡œëŠ” DRF(Django Rest Framework)ì—ì„œ ì œê³µí•˜ëŠ” <code class=\"language-text\">serializers</code>ë¥¼ ì‚¬ìš©í•  ì˜ˆì •ì´ë‹¤.</p>\n<blockquote>\n<p>DRFë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ </p>\n<ol>\n<li>REST api ì„œë²„ë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•´ ì´ˆì ì´ ë§ì¶°ì§„ ê¸°ëŠ¥ë“¤ì´ ë§ìŒ</li>\n<li>ì¥ê³ ë³´ë‹¤ ì½”ë“œì˜ ì¤‘ë³µì„ ì¤„ì´ëŠ” ëª‡ê°€ì§€ í´ë˜ìŠ¤ë“¤ì´ ì œê³µë¨</li>\n</ol>\n</blockquote>\n<p>ìš°ì„  ê°€ìƒí™˜ê²½ì— DRFë¥¼ ì„¤ì¹˜í•´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token operator\">>></span> pip <span class=\"token function\">install</span> djangorestframework</code></pre></div>\n<p>ê·¸ë¦¬ê³ , settings.pyì˜ INSTALLED_APPSì—ì„œ <code class=\"language-text\">'rest_framework'</code>ë¥¼ ì¶”ê°€í•´ì¤€ë‹¤.</p>\n<p>ì°¸ê³ ë¡œ, INSTALLED_APPSì—ëŠ” pipë¡œ ì„¤ì¹˜í•´ì¤€ ê²ƒë„ ì¶”ê°€í•´ì•¼í•  ê²½ìš°ê°€ ìˆê³ , manage.py startapp ë“±ìœ¼ë¡œ ë§Œë“  appConfigì˜ nameë„ ë“¤ì–´ê°€ì•¼í•œë‹¤. (ëª¨ë“  pip ëª¨ë“ˆì„ ì ì–´ì£¼ëŠ” ê²ƒì€ ì•„ë‹ˆë¯€ë¡œ í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ê³µì‹ë¬¸ì„œë¥¼ ì°¸ê³ )</p>\n<h2 id=\"dbì—ì„œ-jsonê¹Œì§€ì˜-ê³¼ì •\" style=\"position:relative;\"><a href=\"#db%EC%97%90%EC%84%9C-json%EA%B9%8C%EC%A7%80%EC%9D%98-%EA%B3%BC%EC%A0%95\" aria-label=\"dbì—ì„œ jsonê¹Œì§€ì˜ ê³¼ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DBì—ì„œ JSONê¹Œì§€ì˜ ê³¼ì •</h2>\n<p>í´ë¼ì´ì–¸íŠ¸ëŠ” ìš”ì²­ì„ ë³´ë‚´ê³ , ì„œë²„ëŠ” ì´ì— ì•Œë§ì€ ì‘ë‹µì„ ë³´ë‚´ëŠ”ë°, ì´ë•Œ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ëŠ” HTTP bodyì— JSONë°ì´í„°ë¥¼ ì£¼ê³  ë°›ëŠ”ë‹¤. ì¥ê³ ì˜ ëª¨ë¸ê³¼ ORMì—ì„œ ì´ë¥¼ ì§ì ‘ ë‹¤ë£° ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ì¥ê³ ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë³€í™˜í•˜ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ë‹¤.</p>\n<p><strong>DB â†” QuerySet â†” OrderdDict â†” JSON</strong></p>\n<p>QuerySetê³¼ OrderedDictëŠ” python classì´ë©°, <strong>ìµœì¢… ëª©í‘œëŠ” JSONê³¼ DBì‚¬ì´ë¥¼ ì—°ê²°í•´ì£¼ëŠ” ê²ƒ</strong>ì´ë‹¤. DRFì˜ <code class=\"language-text\">serializer</code>ëŠ” ì§ë ¬í™”ì™€ ì—­ì§ë ¬í™”(deserialization)ë¥¼ ë„ì™€ì£¼ëŠ” í´ë˜ìŠ¤ì¸ ê²ƒì´ë‹¤. item/serializers.pyë¥¼ ë§Œë“¤ì–´ì£¼ì. í•´ë‹¹ íŒŒì¼ì—ëŠ” itemê³¼ ê´€ë ¨í•œ serializing ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ” í´ë˜ìŠ¤ê°€ ë“¤ì–´ê°ˆ ê²ƒì´ë‹¤.</p>\n<p>ìš°ì„  ê°€ì¥ ê°„ë‹¨í•œ ModelSerializerë¥¼ ì´ìš©í•´ë³´ì!</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> rest_framework <span class=\"token keyword\">import</span> serializers\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Item\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ItemSerializer</span><span class=\"token punctuation\">(</span>serializers<span class=\"token punctuation\">.</span>ModelSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>\n        model <span class=\"token operator\">=</span> Item\n        fields <span class=\"token operator\">=</span> <span class=\"token string\">\"__all__\"</span> <span class=\"token comment\"># ì•„ì´í…œì˜ ëª¨ë“  í•„ë“œë¥¼ serializeí•´ì¤„ ê²ƒì„</span></code></pre></div>\n<h2 id=\"db-to-json\" style=\"position:relative;\"><a href=\"#db-to-json\" aria-label=\"db to json permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DB to JSON</h2>\n<p>item/views.py ì—ì„œ ì²˜ìŒ ë§Œë“¤ì—ˆë˜ index í•¨ìˆ˜ë¥¼ itemì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¡œ ìˆ˜ì •í•´ë³´ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> rest_framework<span class=\"token punctuation\">.</span>response <span class=\"token keyword\">import</span> Response\n<span class=\"token keyword\">from</span> rest_framework<span class=\"token punctuation\">.</span>decorators <span class=\"token keyword\">import</span> api_view\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Item\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>serializers <span class=\"token keyword\">import</span> ItemSerializer\n\n<span class=\"token decorator annotation punctuation\">@api_view</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'GET'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">index</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># serialize</span>\n    items <span class=\"token operator\">=</span> Item<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># return QuerySet(not yet query)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">)</span>\n    itemSerializer <span class=\"token operator\">=</span> ItemSerializer<span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">,</span> many<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># return OrderedDict</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>itemSerializer<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>itemSerializer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>itemSerializer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span></code></pre></div>\n<p>ìš°ì„  Requestì™€ Responseë¥¼ ìœ„ì™€ ê°™ì´ DRFì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë°”ê¿”ì£¼ì. (ì´ëŠ” ë‹¤ìŒì— ìì„¸íˆ ì•Œì•„ë³¼ ì˜ˆì •)</p>\n<ul>\n<li>\n<p>@api_view([â€˜GETâ€™]) &#x26; Response</p>\n<p>http get requestë¥¼ ì²˜ë¦¬í•˜ëŠ” Viewí•¨ìˆ˜ì— ë‹¬ ìˆ˜ ìˆëŠ” ë°ì½”ë ˆì´í„°ì´ë‹¤. ì´í›„ ì ì ˆí•˜ê²Œ Responseë¥¼ í•´ì¤˜ì•¼ í•œë‹¤. (DRFì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•)</p>\n</li>\n<li>\n<p>Item.objects.all()</p>\n<p>ì¥ê³ ì—ì„œ modelì„ í†µí•´ DBì— ì ‘ê·¼í•  ë•Œ ì‚¬ìš©í•˜ëŠ” Managerê°€ ê¸°ë³¸ì ìœ¼ë¡œ <code class=\"language-text\">objects</code>ì´ë‹¤. ë”°ë¼ì„œ, DB manager í˜¹ì€ accesser ì •ë„ì˜ ì—­í• ë¡œë§Œ ì•Œê³  ìˆì–´ë„ ì¼ë‹¨ì€ ok.</p>\n<p>managerì—ì„œ all í•¨ìˆ˜ëŠ” <code class=\"language-text\">select *</code>ê³¼ ê°™ì€ ì˜ë¯¸ë¡œ ê²°ê³¼ë¡œ <strong>QuerySetì´ ë¦¬í„´ëœë‹¤.</strong></p>\n<p>ì°¸ê³ ë¡œ QuerySetì€ ì•„ì§ DB queryê°€ ì‹¤í–‰ë˜ì§€ëŠ” ì•Šì€ ìƒíƒœì´ë‹¤.</p>\n</li>\n<li>\n<p>ItemSerializer(items, many=True)</p>\n<p>ì‚¬ì „ì— ì •ì˜í•œ ì‹œë¦¬ì–¼ë¼ì´ì €ì˜ ì¸ìì—ë‹¤ê°€ <code class=\"language-text\">QuerySet</code>ì„ ë„£ì–´ì£¼ê³ , <code class=\"language-text\">many=True</code> ì˜µì…˜ì„ ì£¼ë©´ ì´ë¥¼ OrderedDictì˜ listë¡œ ë°˜í™˜í•´ì¤€ë‹¤.</p>\n</li>\n<li>\n<p>serializer.data</p>\n<p>querysetì˜ ë°ì´í„°ì— ì ‘ê·¼í•˜ì—¬ ì§ë ¬í™”ëœ ìë£Œêµ¬ì¡°ë¥¼ ë¦¬í„´í•œë‹¤.</p>\n</li>\n</ul>\n<p>ì´ì œ, localhost:8000/item/ì— ì ‘ê·¼í•´ë³´ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"item_id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Iphone G14\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"price\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1500000</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"stock_count\"</span><span class=\"token operator\">:</span> <span class=\"token number\">10</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"item_id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Galaxy X25\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"price\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1450000</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"stock_count\"</span><span class=\"token operator\">:</span> <span class=\"token number\">120</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>ì €ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œ 2ê°œì˜ itemì„ ì¶”ê°€í–ˆìœ¼ë¯€ë¡œ ì˜ ë‚˜ì˜¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤ğŸ‘ğŸ‘</p>\n<p>ì½˜ì†”ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ í”„ë¦°íŠ¸ ë˜ì–´ìˆì„ ê²ƒì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token operator\">&lt;</span>QuerySet <span class=\"token punctuation\">[</span><span class=\"token operator\">&lt;</span>Item: Item object <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span>, <span class=\"token operator\">&lt;</span>Item: Item object <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span>\n\nItemSerializer<span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>QuerySet <span class=\"token punctuation\">[</span><span class=\"token operator\">&lt;</span>Item: Item object <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span>, <span class=\"token operator\">&lt;</span>Item: Item object <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span>, <span class=\"token assign-left variable\">many</span><span class=\"token operator\">=</span>True<span class=\"token punctuation\">)</span>:\n    item_id <span class=\"token operator\">=</span> IntegerField<span class=\"token punctuation\">(</span>label<span class=\"token operator\">=</span><span class=\"token string\">'ìƒí’ˆì½”ë“œ'</span>, <span class=\"token assign-left variable\">read_only</span><span class=\"token operator\">=</span>True<span class=\"token punctuation\">)</span>\n    name <span class=\"token operator\">=</span> CharField<span class=\"token punctuation\">(</span>label<span class=\"token operator\">=</span><span class=\"token string\">'ìƒí’ˆëª…'</span>, <span class=\"token assign-left variable\">max_length</span><span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n    price <span class=\"token operator\">=</span> IntegerField<span class=\"token punctuation\">(</span>label<span class=\"token operator\">=</span><span class=\"token string\">'ìƒí’ˆê°€ê²©'</span>, <span class=\"token assign-left variable\">max_value</span><span class=\"token operator\">=</span><span class=\"token number\">4294967295</span>, <span class=\"token assign-left variable\">min_value</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    stock_count <span class=\"token operator\">=</span> IntegerField<span class=\"token punctuation\">(</span>label<span class=\"token operator\">=</span><span class=\"token string\">'ë‚¨ì€ìˆ˜ëŸ‰'</span>, <span class=\"token assign-left variable\">max_value</span><span class=\"token operator\">=</span><span class=\"token number\">4294967295</span>, <span class=\"token assign-left variable\">min_value</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">[</span>OrderedDict<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token string\">'item_id'</span>, <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>, <span class=\"token punctuation\">(</span><span class=\"token string\">'name'</span>, <span class=\"token string\">'Iphone G14'</span><span class=\"token punctuation\">)</span>, <span class=\"token punctuation\">(</span><span class=\"token string\">'price'</span>, <span class=\"token number\">1500000</span><span class=\"token punctuation\">)</span>, <span class=\"token punctuation\">(</span><span class=\"token string\">'stock_count'</span>, <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>, OrderedDict<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token string\">'item_id'</span>, <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>, <span class=\"token punctuation\">(</span><span class=\"token string\">'name'</span>, <span class=\"token string\">'Galaxy X25'</span><span class=\"token punctuation\">)</span>, <span class=\"token punctuation\">(</span><span class=\"token string\">'price'</span>, <span class=\"token number\">1450000</span><span class=\"token punctuation\">)</span>, <span class=\"token punctuation\">(</span><span class=\"token string\">'stock_count'</span>, <span class=\"token number\">120</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p><code class=\"language-text\">ModelSerializer</code>ë¡œ ì •ì˜í–ˆê³ , fieldsì— <code class=\"language-text\">__all__</code>ì„ ì ì–´ì£¼ì–´ ìë™ìœ¼ë¡œ ì‹œë¦¬ì–¼ë¼ì´ì €ì˜ í•„ë“œë“¤ì´ ìœ„ì™€ ê°™ì´ ë“¤ì–´ê°€ ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ë˜í•œ, ì•„ì§ serailizer.dataë¡œ ì ‘ê·¼í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œëŠ” <strong>QuerySetìœ¼ë¡œ ë‚¨ì•„ìˆê³ , ì‹¤ì œ ì¿¼ë¦¬ë¬¸ì´ ì‹¤í–‰ë˜ì§€ëŠ” ì•Šì€ ìƒíƒœ</strong>ì´ë‹¤. ì¦‰, QuerySetì—ì„œ ì‹¤ì œ ë°ì´í„°ì™€ ê´€ë ¨ëœ ì ‘ê·¼ì´ ì¼ì–´ë‚  ë•Œì—ë§Œ queryê°€ ìˆ˜í–‰ë˜ëŠ” <code class=\"language-text\">lazy</code>í•œ íŠ¹ì„±ì„ ë³´ì¸ë‹¤.</p>\n<p>ë˜í•œ Response í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ë©´ ordered dictì˜ ë°°ì—´ì„ JSON í˜•ì‹ìœ¼ë¡œ ë°”ê¿”ì„œ ì‘ë‹µí•´ì£¼ëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤. ë§Œì•½, ordered dict í˜•íƒœì—ì„œ ìš°ë¦¬ê°€ ë°ì´í„°ë¥¼ JSONìœ¼ë¡œ ì§ì ‘ ë°”ê¿”ì•¼ í•  í•„ìš”ê°€ ìˆë‹¤ë©´ <code class=\"language-text\">JSONRenderer().render(serializer.data)</code>ë¡œ ë³€í™˜í•´ì¤„ ìˆ˜ ìˆë‹¤. (<code class=\"language-text\">from rest_framework.renderers import JSONRenderer</code>ë¡œ ì„í¬íŠ¸ í›„ ì‚¬ìš©ê°€ëŠ¥)</p>\n<p>ë‹¤ì‹œ ì§ë ¬í™”ë¡œ ëŒì•„ì™€ ê³¼ì •ì„ ì •ë¦¬í•´ë³´ë©´,</p>\n<blockquote>\n<p>DB instance â†’ <code class=\"language-text\">{model}.objects.all()</code> â†’ QuerySet â†’ <code class=\"language-text\">Serializer(queryset)</code> â†’ OrderedDict â†’ JSON</p>\n</blockquote>\n<p>ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.!</p>\n<h2 id=\"json-to-db\" style=\"position:relative;\"><a href=\"#json-to-db\" aria-label=\"json to db permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JSON to DB</h2>\n<p>ì´ì œëŠ” ë°ì´í„°ë¥¼ DBì— ì €ì¥í•˜ëŠ” ì½”ë“œë¥¼ ë§Œë“¤ì–´ë³´ì.</p>\n<p>POST ìš”ì²­ì— ëŒ€í•˜ì—¬ ìƒˆë¡œìš´ itemì„ ë§Œë“œëŠ” apië¥¼ ë§Œë“¤ì–´ë³¸ë‹¤. drfì—ì„œ bodyëŠ” <code class=\"language-text\">request.data</code>ë¥¼ ì´ìš©í•˜ì—¬ ë°›ì„ ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token decorator annotation punctuation\">@api_view</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'POST'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_item</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    itemSerializer <span class=\"token operator\">=</span> ItemSerializer<span class=\"token punctuation\">(</span>data<span class=\"token operator\">=</span>request<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> itemSerializer<span class=\"token punctuation\">.</span>is_valid<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># need to call .is_valid() before .save()</span>\n        itemSerializer<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>itemSerializer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>itemSerializer<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">)</span> <span class=\"token comment\"># error occured</span></code></pre></div>\n<p>JSON ë°ì´í„°ë¥¼ ì¥ê³ ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œë„ serializer classë¥¼ ì´ìš©í•˜ë©´ ëœë‹¤. ì—¬ê¸°ì„œëŠ” ì¸ìë¡œ dataë¥¼ ë„˜ê²¨ì£¼ë©´ ëœë‹¤.</p>\n<p>ì£¼ì˜í•´ì•¼í•  ì ì€, <code class=\"language-text\">is_valid()</code>ë¥¼ í˜¸ì¶œí•˜ê³  <code class=\"language-text\">save()</code> methodë¥¼ í˜¸ì¶œí•´ì•¼í•œë‹¤ëŠ” ì ì´ë‹¤. ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ <code class=\"language-text\">AssertionError: You must call .is_valid() before calling .save().</code> ì—ëŸ¬ê°€ ë‚˜ì˜¬ ê²ƒì´ë‹¤. ì™œëƒí•˜ë©´, save() ë©”ì†Œë“œëŠ” <code class=\"language-text\">serailizer.validated_data</code>ê°€ ë“¤ì–´ê°€ì•¼ í•˜ëŠ”ë°, ì´ëŠ” <strong>is_valid()ê°€ ìˆ˜í–‰ë˜ì–´ì•¼ <code class=\"language-text\">initial_data</code>ì™€ <code class=\"language-text\">validated_data</code>ê°€ ì´ˆê¸°í™”ë˜ê¸°</strong> ë•Œë¬¸ì´ë‹¤.</p>\n<p>ë§Œì•½ ë°ì´í„°ê°€ ìœ íš¨í•˜ì§€ ì•Šë‹¤ë©´ ModelSerializer í´ë˜ìŠ¤ì—ì„œ <code class=\"language-text\">serilaizers.ValidationError</code>ë¥¼ throw í•  ê²ƒì´ë‹¤.</p>\n<p><code class=\"language-text\">postman</code>ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•´ë³´ì. (ë¸Œë¼ìš°ì €ì—ì„œ í•˜ë ¤ë©´ CORSë¥¼ í•´ê²°í•´ì•¼í•¨)</p>\n<ol>\n<li>\n<p>ì •ìƒ ì¼€ì´ìŠ¤</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 72.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABwUlEQVQ4y41TWbKcMAzkJAHv+wKTqSFD5SP3P1SnJIbJo/J4yUdbsstqJHczbNuGGCNCCGitYV3XN7bnhsfjgfWxopTCdw4cNR8jYSAS5xwfppS4kFBbQy4ZtVaU3uCDPxEeNRSJiKK1FgMtUko+8N5zrrXm/JsSaMHj1gImKeCcf5MopZhACMGEWkmM44hhnme+1HtHax05Z+5w3zcs87wjR/RaEFMC1dAH53nB99sCZQNUfkBIhcEYAwJ1doC+Sh2cIU97uvcnV5BK89lA40kpEEpDbAtKdPhx78jB8fk0TScIcY5HLjiKvUNKfG5I8x2pdbSlw3nLb0IF4/j/4A5jdEjJIkWLlBxioNxxTsjJv+D+Ce4wsCUcco6IOcBGi5wi7723rKDWEsYoaK1gjL7E8OvnhlIrq0vyk//Cy6y9z2yRw2tKaXhrICZxPfLz+cRuHQ9rDBI5PkQ479g+REaGJ4OT72oMUFK+xBB/YaCFza0NbEhQ2rBiuxjjO34U6CD7jJTfcJpGpL4gL3fUHLDeGpLf/6Dpky6uyJiQVCbT+lzZh7FUtKXBOntZ9BUGUs17x26ncXlk/mPEl6NdEf4GKIex+dMgtoUAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"postman1\" title=\"postman1\" src=\"/static/66bcc081e719e2c6f893d9639b0d1b6e/37523/postman1.png\" srcset=\"/static/66bcc081e719e2c6f893d9639b0d1b6e/e9ff0/postman1.png 180w,\n/static/66bcc081e719e2c6f893d9639b0d1b6e/f21e7/postman1.png 360w,\n/static/66bcc081e719e2c6f893d9639b0d1b6e/37523/postman1.png 720w,\n/static/66bcc081e719e2c6f893d9639b0d1b6e/302a4/postman1.png 1080w,\n/static/66bcc081e719e2c6f893d9639b0d1b6e/636d3/postman1.png 1222w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>item_idëŠ” auto_incrementì´ë¯€ë¡œ ê°’ì„ ë„£ì§€ ì•Šë„ë¡ í•œë‹¤.</p>\n<p>DBë¥¼ ì§ì ‘ í™•ì¸í•´ë³´ê±°ë‚˜, ê´€ë¦¬ì í˜ì´ì§€ì— ì ‘ê·¼í•´ë³´ë©´ ë°ì´í„°ê°€ ì˜ ë“¤ì–´ê°€ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤!</p>\n</li>\n<li>\n<p>ì—ëŸ¬ ì¼€ì´ìŠ¤</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 67.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABpUlEQVQ4y41TSZLcMAzTS7xKpBZr8TKpHKb//yykSLs9mar0pA8oiTIJEhJsjuOA9x4hBNRasW2bYhfsu+7X1uBDuPN+gnkSxhjRWlMSORMo4XGgret/iYRDYJxzmOdZA2bGMAwgIlgmdGOPoyQQz5hmexV7WGvxrJPc4BlD32utKaUomciVvRTJWmpFzhkf24pWMlqKWFLSbyklzRMV0mAKKyaKJ6GQSRcip5DuErOeEYgZTmOnU9F1LnlS65zFZBmTdZimCUbGHscRFDOcj1iCR4kebC26vkf/EgO67lxV7lOydnUWMRek2pBywbJEMMsdTbD2L8z/2M9fkHwjY+bsUYtHyXyinHGtAa1FrC3q+g4MOXfeBRFiiKDoYdnddpDr6C85wzAq5OwVzO+PA2lZboKYElh8GQKWJelD3A/nHNhZJR/H4WryHebxeKhlxNjiw6d1xBqtViUSw6tVmBGZ0Cvhiwn1hZkwOwaxvzuLzK7vNP6SPFzT/SBZ/CRPb4kR5F8lB++s2iYxgeys39+FEUmfn79w7An7lnDsyzfsgi29jT8p0phyUNk/4gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"postman2\" title=\"postman2\" src=\"/static/485b5278e4c4b9bd41461d14f1b939bd/37523/postman2.png\" srcset=\"/static/485b5278e4c4b9bd41461d14f1b939bd/e9ff0/postman2.png 180w,\n/static/485b5278e4c4b9bd41461d14f1b939bd/f21e7/postman2.png 360w,\n/static/485b5278e4c4b9bd41461d14f1b939bd/37523/postman2.png 720w,\n/static/485b5278e4c4b9bd41461d14f1b939bd/302a4/postman2.png 1080w,\n/static/485b5278e4c4b9bd41461d14f1b939bd/f09ab/postman2.png 1250w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>ì´ ê²½ìš°ëŠ” price í•„ë“œë¥¼ ë¹¼ê³  ìš”ì²­ì„ ë³´ëƒˆì„ ë•Œì˜ ê²°ê³¼ì´ë‹¤. ìš°ë¦¬ê°€ ì‚¬ìš©í•œ ModelSerializerë¥¼ ì´ìš©í•˜ë©´ ì´ëŸ° ìƒì„±(create), ê²€ì¦(is_valid), ê·¸ë¦¬ê³  ì—…ë°ì´íŠ¸(update)ê¹Œì§€ ê¸°ë³¸ì ìœ¼ë¡œ ì§€ì›í•œë‹¤!</p>\n<p>ì•„, ê·¸ë¦¬ê³  ì•„ì§ì€ status codeë¥¼ ë„£ì§€ ì•Šì•„ì„œ 200ìœ¼ë¡œ ì˜¤ëŠ”ë°, ì´ëŠ” ë‹¤ìŒì— Requestì™€ Responseë¥¼ ê³µë¶€í•˜ë©´ ì•Œê²Œ ë  ê²ƒì´ë‹¤.</p>\n</li>\n</ol>\n<h2 id=\"ê·¸ë˜ì„œ-serializerì˜-ì—­í• ì€\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9E%98%EC%84%9C-serializer%EC%9D%98-%EC%97%AD%ED%95%A0%EC%9D%80\" aria-label=\"ê·¸ë˜ì„œ serializerì˜ ì—­í• ì€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê·¸ë˜ì„œ Serializerì˜ ì—­í• ì€?</h2>\n<p>ê·¸ë˜ì„œ serializerëŠ” í¬ê²Œ ë‘ê°€ì§€ì˜ ì—­í• ì„ ìˆ˜í–‰í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.</p>\n<ol>\n<li>\n<p>model to JSON &#x26; JSON to model</p>\n<p>ê°ê° ì§ë ¬í™”ì™€ ì—­ì§ë ¬í™”ì— í•´ë‹¹í•˜ëŠ” ë‚´ìš©ì´ë‹¤.</p>\n</li>\n<li>\n<p>validation</p>\n<p>DBì— ê°’ì„ ë³€ê²½í•  ë•Œì—ë„ Serializerê°€ ì‚¬ìš©ëœë‹¤. is_valid()ì™€ save() ë©”ì†Œë“œë¡œ DBê°’ì„ ì‰½ê²Œ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ ë„ì›€ì„ ì¤€ë‹¤.</p>\n</li>\n</ol>\n<h2 id=\"serializer-ì»¤ìŠ¤í…€í•˜ê¸°\" style=\"position:relative;\"><a href=\"#serializer-%EC%BB%A4%EC%8A%A4%ED%85%80%ED%95%98%EA%B8%B0\" aria-label=\"serializer ì»¤ìŠ¤í…€í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Serializer ì»¤ìŠ¤í…€í•˜ê¸°</h2>\n<p>ìš°ë¦¬ëŠ” ì‹œë¦¬ì–¼ë¼ì´ì €ë¥¼ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•˜ê¸° ìœ„í•´ <strong>ModelSerializer</strong> í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ êµ¬í˜„í•˜ì˜€ë‹¤. ì´ë¥¼ ì»¤ìŠ¤í…€í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.</p>\n<ol>\n<li>\n<p>Field custom</p>\n<p>ìš°ë¦¬ëŠ” fieldsì— <code class=\"language-text\">__all__</code>ë¡œ ëª¨ë“  modelì˜ í•„ë“œë¥¼ ë°›ì•˜ì§€ë§Œ, ì´ë¥¼ ì»¤ìŠ¤í…€í•  ìˆ˜ ìˆë‹¤. modelì— ìˆëŠ” í•„ë“œì˜ ê²½ìš°ì—ëŠ” ë¬¸ìì—´ ë°°ì—´ì˜ í˜•íƒœë¡œ ì„ ì–¸í•˜ë©´ ëœë‹¤. ìš°ë¦¬ëŠ” <code class=\"language-text\">['name', 'price', 'stock_count']</code>ë¡œ ë°”ê¿”ë³¼ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.</p>\n<p>ë˜í•œ, ëª¨ë¸ì—ëŠ” ì—†ëŠ”ë° í•„ìš”í•œ ìƒˆë¡œìš´ í•„ë“œê°€ í•„ìš”í•œ ê²½ìš°ê°€ ìˆë‹¤. ì´ëŠ” <code class=\"language-text\">SerializerMethodField()</code>ì— ëŒ€í•˜ì—¬ ê²€ìƒ‰í•´ë³´ì.</p>\n</li>\n<li>\n<p>Validation custom</p>\n<p>dataë¥¼ ê²€ì‚¬í•˜ëŠ” ë³„ê°œì˜ ë¡œì§ì´ ìˆëŠ” ê²½ìš°ì—ëŠ” serializer ë‚´ë¶€ì— <code class=\"language-text\">validate(self, data)</code>í•¨ìˆ˜ë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•˜ë©´ ëœë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ìš°ë¦¬ëŠ” price(ê°€ê²©)ëŠ” 0ë³´ë‹¤ ì»¤ì•¼í•˜ê³ , stock_count(ì¬ê³ )ëŠ” 0ì´ìƒì´ì—¬ì•¼ í•œë‹¤.</p>\n<p>(<code class=\"language-text\">PositiveIntegerField</code>ë¡œ ì •ì˜ë˜ì–´ìˆê¸´ í•˜ì§€ë§Œ ê·¸ë˜ë„ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ë³´ì)</p>\n<p>ë§Œì•½ íŠ¹ì • í•„ë“œì— ëŒ€í•œ validationë§Œ ìˆ˜í–‰í•˜ê³  ì‹¶ë‹¤ë©´, <code class=\"language-text\">validate_{field}</code> ê¼´ë¡œ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì£¼ë©´ ëœë‹¤. ë‹¤ìŒì€ ê°€ê²©ì´ 0ì¸ ê²½ìš°ì— ì—ëŸ¬ë¥¼ ë°œìƒì‹œì¼œì£¼ëŠ” ì½”ë“œì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ItemSerializer</span><span class=\"token punctuation\">(</span>serializers<span class=\"token punctuation\">.</span>ModelSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>\n        model <span class=\"token operator\">=</span> Item\n        fields <span class=\"token operator\">=</span> <span class=\"token string\">\"__all__\"</span> <span class=\"token comment\"># ì•„ì´í…œì˜ ëª¨ë“  í•„ë“œë¥¼ serializeí•´ì¤„ ê²ƒì„</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">validate_price</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> value <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">raise</span> serializers<span class=\"token punctuation\">.</span>ValidationError<span class=\"token punctuation\">(</span><span class=\"token string\">\"price must be positive\"</span><span class=\"token punctuation\">)</span> \n        <span class=\"token keyword\">return</span> value</code></pre></div>\n<p>í•˜ì§€ë§Œ ì´ ê²½ìš°ì—ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ Serializer(not ModelSerializer)ê°€ validationì„ í•´ì£¼ë¯€ë¡œ, 0ì¸ ê²½ìš°ë§Œ ì²˜ë¦¬í•˜ë©´ ë  ê²ƒì´ë‹¤.</p>\n<p>ë˜í•œ, model instanceë¥¼ ìƒì„±í•˜ëŠ” ì‹œì ì— validationì„ í•´ì£¼ëŠ” ë°©ë²•ë„ ìˆë‹¤ëŠ” ê²ƒ ê°™ìœ¼ë‹ˆ, ì°¾ì•„ë´ì•¼ê² ë‹¤.</p>\n</li>\n<li>\n<p>create &#x26; update custom</p>\n<p>ModelSerializer í´ë˜ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ createì™€ updateë¥¼ ì œê³µí•˜ì§€ë§Œ, ì´ë¥¼ ìˆ˜ì •í•˜ê³  ì‹¶ì„ë•Œì—ëŠ” <code class=\"language-text\">create(self, validated_data)</code> ë˜ëŠ” <code class=\"language-text\">update(self, validated_data)</code> í•¨ìˆ˜ë¥¼ ì˜¤ë²„ë¼ì´ë”© í•´ì£¼ë©´ ëœë‹¤. (ì—¬ê¸°ì— ì¸ìë¡œ ì˜¤ëŠ” ë°ì´í„°ëŠ” is_valid ì´í›„ì— ì˜¨ validated_dataì´ë‹¤)</p>\n</li>\n</ol>\n<p>ë˜í•œ, ê·¸ëƒ¥ Serializer í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ì„œ ììœ ë„ê°€ ë†’ì€ ì‹œë¦¬ì–¼ë¼ì´ì €ë„ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ë‹¤ë§Œ, ì´ ê²½ìš°ì—ëŠ” í•„ë“œë¶€í„° ë§ì€ ê²ƒë“¤ì„ ì§ì ‘ êµ¬í˜„í•´ì•¼í•  ê²ƒì´ë¯€ë¡œ ì ì¬ì ì†Œì— í™œìš©í•˜ë„ë¡ í•˜ì.</p>\n<h1 id=\"django-orm\" style=\"position:relative;\"><a href=\"#django-orm\" aria-label=\"django orm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Django ORM</h1>\n<blockquote>\n<p>ìœ„ì—ì„œ ë‹¤ë£¨ì—ˆë˜, <code class=\"language-text\">Item.objects.all()</code>ê°€ ì—¬ê¸°ì— í•´ë‹¹í•œë‹¤</p>\n<p>ì´ê²Œ ë­” ë§ì¸ì§€ ì•Œì•„ë³´ì</p>\n</blockquote>\n<p>ì´ì œ Serializerì— ëŒ€í•œ ê°œë…ì€ ì–´ëŠì •ë„ ì•Œì•˜ìœ¼ë‹ˆ, djangoì—ì„œ ì œê³µí•˜ëŠ” ORM(Object Relational Mapper)ì— ëŒ€í•˜ì—¬ ì•Œì•„ë³´ì. (ì´ëŠ” DRFê°€ ì•„ë‹Œ ì¥ê³ ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤) ORMì„ ì´ìš©í•˜ì—¬ ê´€ê³„í˜• DBì— ê°ê° ë‹¤ë¥¸ ì–¸ì–´ë“¤ì„ ëª°ë¼ë„ python ì¸í„°í˜ì´ìŠ¤ë¡œ DBë¥¼ ë‹¤ë£° ìˆ˜ ìˆê²Œ ëœë‹¤.</p>\n<p>ORM ì—­ì‹œ DBì™€ ì—°ê²°ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ëª¨ë¸ì˜ CRUDê°€ ê°€ëŠ¥í•˜ì§€ë§Œ Read, Deleteë§Œ ê¶Œì¥ëœë‹¤. ìš°ë¦¬ëŠ” client ìš”ì²­ì— ëŒ€í•˜ì—¬ ë” ê°„í¸í•˜ê³  ì˜ˆì™¸ì— ëŒ€í•´ ë°˜ì‘í•  ìˆ˜ ìˆëŠ” Serializerë¡œ C,Uë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ëª‡ê°œë§Œ ì•Œì•„ë³´ìâ€¦</p>\n<ul>\n<li>objects.all() : í•´ë‹¹ ëª¨ë¸ì˜ ëª¨ë“  ë°ì´í„°ë¥¼ ë‹´ëŠ” ì¿¼ë¦¬ì…‹ì„ ë¦¬í„´</li>\n<li>objects.order_by(field) : í•´ë‹¹ í•„ë“œë¡œ ì •ë ¬</li>\n<li>objects.filter(field = â€¦ , ) : ì¡°ê±´ì— ë§ëŠ” ì¿¼ë¦¬ì…‹ì„ ë¦¬í„´. ì—†ë‹¤ë©´ ë¹ˆ ì¿¼ë¦¬ì…‹ ë¦¬í„´(<code class=\"language-text\">queryset.exists()</code>í•¨ìˆ˜ë¡œ íŒë‹¨ ê°€ëŠ¥)</li>\n<li>objects.get(field = â€¦ , ) : ì¡°ê±´ì— ë§ëŠ” ëª¨ë¸ ë¦¬í„´. ì—†ë‹¤ë©´ ì—ëŸ¬ throw</li>\n<li>objects.create(field = â€¦) : ëª¨ë¸ì„ ìƒì„±í•˜ì—¬ DBì— ì €ì¥í•œë‹¤</li>\n<li>obejcts.update() : ì—…ë°ì´íŠ¸</li>\n<li>objects.delete() : ì‚­ì œ</li>\n</ul>\n<h2 id=\"objects\" style=\"position:relative;\"><a href=\"#objects\" aria-label=\"objects permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>objects??</h2>\n<p>ì—¬ê¸°ì„œ í•­ìƒ ë‚˜ì˜¤ëŠ” ê²ƒì€ <code class=\"language-text\">objects</code>ì´ë‹¤! ì´ëŠ” ëª¨ë¸ì—ì„œ DBì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ ORMì—ì„œ ì‚¬ìš©ë˜ëŠ” <code class=\"language-text\">Manager object</code>ì´ë‹¤. ì´ëŠ” models.Manager í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ì—¬ ì»¤ìŠ¤í…€ì´ ê°€ëŠ¥í•˜ë©°, ìœ„ì˜ í•¨ìˆ˜ë“¤ì„ ì˜¤ë²„ë¼ì´ë“œí•  ìˆ˜ ìˆê²Œ ëœë‹¤. ì»¤ìŠ¤í…€ ë§¤ë‹ˆì €ëŠ” model í´ë˜ìŠ¤ì—ì„œ <code class=\"language-text\">objects= CustomManager()</code>ì™€ ê°™ì´ ë°”ê¿”ì¤„ ìˆ˜ ìˆë‹¤ê³  í•œë‹¤. ì´ëŠ” ë” ê³µë¶€ê°€ í•„ìš”í•œ ë¶€ë¶„ì´ë‹¤. <a href=\"https://blog.hwahae.co.kr/all/tech/tech-tech/4108\">ì°¸ê³ í•˜ê¸°</a></p>\n<h2 id=\"queryset\" style=\"position:relative;\"><a href=\"#queryset\" aria-label=\"queryset permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>QuerySet</h2>\n<p>objectsì˜ ë©”ì†Œë“œë¥¼ í†µí•˜ì—¬ ìƒì„±ë˜ëŠ” (ì£¼ë¡œ select) ë°ì´í„°ëŠ” <strong>ë°”ë¡œ SQLì´ ì‹¤í–‰ë˜ì§€ ì•Šê³  <code class=\"language-text\">QuerySet</code>ê°ì²´ì— ì €ì¥ë˜ì—ˆë‹¤ê°€ í•„ìš”í•œ ìˆœê°„ì—ë§Œ ì‹¤ì œ ì¿¼ë¦¬ê°€ ìˆ˜í–‰ë˜ëŠ” lazyí•œ êµ¬ì¡°</strong>ë¥¼ ê°–ëŠ”ë‹¤. ì´ìœ ëŠ” DB ì ‘ê·¼ì€ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ê³ , ë°˜ë³µë˜ë©´ ì—°ì‚°ì— ë‚­ë¹„ê°€ ìƒê¸¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ì¶”ê°€ì ìœ¼ë¡œ, í…Œì´ë¸”ì´ ë³µì¡í•´ì§ˆ ê²½ìš°ì—ëŠ” ì˜ë¯¸ì—†ëŠ” ì¿¼ë¦¬ê°€ ë‚­ë¹„ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ(ì¤‘ë³µ ì§ˆì˜) <code class=\"language-text\">selected_related()</code> ë“±ì˜ JOINì—°ì‚°ì„ ì²˜ë¦¬í•˜ì—¬ ì—°ì‚°ì„ ì¤„ì´ëŠ” ê¸°ë²•ë„ ìˆë‹¤ê³  í•œë‹¤.</p>\n<p>QuerySetì€ ìš°ë¦¬ê°€ ì—¬íƒœ ê³µë¶€í•œ Serializerì— ì˜í•˜ì—¬ ì§ë ¬í™”ë  ìˆ˜ ìˆëŠ”ë°, ì—¬ëŸ¬ ë ˆì½”ë“œë¥¼ í¬í•¨í•œ QuerySetì´ë¼ë©´ many=True ì˜µì…˜ìœ¼ë¡œ ê°€ì ¸ì™€ì•¼ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ë„ ì•Œê³  ìˆë„ë¡ í•˜ì!</p>\n<p>ì˜¤ëŠ˜ì€ ì¥ê³ ì™€ DRFë¥¼ ì´í•´í•˜ëŠ” í•µì‹¬ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ì¸ Serializing ê¸°ë²•ê³¼ django modelê³¼ DBë¥¼ ì†ì‰½ê²Œ ì—°ê²°í•´ì£¼ëŠ” ORMì„ ë°°ì›Œë´¤ë‹¤. ë‹¤ìŒì—ëŠ” Requestì™€ Responseë¥¼ ë” ê³µë¶€í•´ë³´ë„ë¡ í•˜ì! ì˜¤ëŠ˜ì˜ ì½”ë“œëŠ” <a href=\"https://github.com/choieastsea/market-guri-django/commit/5554170cdcb9bef18c2b74522144bfbac2cc92c0\">ì—¬ê¸°</a>ë¥¼ ì°¸ê³ í•œë‹¤.</p>","frontmatter":{"date":"April 14, 2022","title":"(Django) ì¥ê³  api ì„œë²„ë¥¼ ì´ìš©í•œ í”„ë¡œì íŠ¸ [5-serializerì™€ Django ORM]","categories":"BE","author":"choieastsea","emoji":"ğŸ™„"},"fields":{"slug":"/Django(5)-serailizer-django-orm/"}},"prev":{"id":"14ee35cd-9837-5380-8e94-1042bcaa938f","html":"<p>ì €ë²ˆê¹Œì§€ëŠ” DRFì˜ serailizerì— ëŒ€í•˜ì—¬ ê³µë¶€í•˜ì˜€ê³ , ìƒˆë¡œìš´ itemì„ ë§Œë“œëŠ” apiê¹Œì§€ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ì–´ë³´ì•˜ë‹¤. ì˜¤ëŠ˜ì€ ì¢€ ë” ë‹¤ì–‘í•œ methodì— ëŒ€í•˜ì—¬ ì•Œì•„ë³´ê³ , DRF(Django Rest Framework)ì˜ <code class=\"language-text\">ViewSet</code>ì„ ë„ì…í•˜ì—¬ rest apiì— ìµœì í™”ëœ ê°„ë‹¨í•œ viewêµ¬ì¡°ë¥¼ ì„¤ê³„í•´ë³´ë„ë¡ í•œë‹¤.</p>\n<h2 id=\"ë‹¤ì–‘í•œ-requestì—-ëŒ€í•œ-response\" style=\"position:relative;\"><a href=\"#%EB%8B%A4%EC%96%91%ED%95%9C-request%EC%97%90-%EB%8C%80%ED%95%9C-response\" aria-label=\"ë‹¤ì–‘í•œ requestì— ëŒ€í•œ response permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë‹¤ì–‘í•œ requestì— ëŒ€í•œ response</h2>\n<p>ì¥ê³ ì—ì„œëŠ” requestì™€ responseë¥¼ ì´ë ‡ê²Œ ì²˜ë¦¬í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>shortcuts <span class=\"token keyword\">import</span> render\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>http <span class=\"token keyword\">import</span> HttpResponse\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">my_view</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">:</span>\n        post_data <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span>POST \n        <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">'POST'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span><span class=\"token string\">'GET'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ì¥ê³ ì—ì„œëŠ” ìš”ì²­ì„ HttpRequestê°ì²´ì—ì„œ ì²˜ë¦¬í•˜ë„ë¡ í•˜ê³ , ì‘ë‹µì€ HttpResponseê°ì²´ì—ì„œ ì²˜ë¦¬í•˜ë„ë¡ í•œë‹¤.</p>\n<p>ì´ë ‡ê²Œ ìš”ì²­ì— ëŒ€í•˜ì—¬ í•¨ìˆ˜ì—ì„œ ì²˜ë¦¬í•˜ë„ë¡ í•˜ëŠ” ê²ƒì„ <code class=\"language-text\">Function Based View(FBV)</code>ë¼ê³  í•˜ë©°, ë·° í´ë˜ìŠ¤ì—ì„œ ì²˜ë¦¬í•˜ë„ë¡ í•˜ëŠ” <code class=\"language-text\">Class Based View(CBV)</code> ì—­ì‹œ ì¡´ì¬í•œë‹¤.</p>\n<h3 id=\"in-drf\" style=\"position:relative;\"><a href=\"#in-drf\" aria-label=\"in drf permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>in drf</h3>\n<p>DRFì—ì„œë„ requestì™€ responseë¥¼ ë°›ëŠ” ë°©ë²•ì„ CBV,FBVë¡œ ë‚˜ëˆ ë³¼ ìˆ˜ ìˆë‹¤. ìš°ë¦¬ê°€ ì €ë²ˆì— <code class=\"language-text\">@api_view(['POST'])</code> ë°ì½”ë ˆì´í„°ë¥¼ ì´ìš©í•´ ì²˜ë¦¬í•œ ë°©ë²•ì´ FBVì´ë©°, ì˜¤ëŠ˜ì€ CBVì— ëŒ€í•˜ì—¬ ì•Œì•„ë³´ì.</p>\n<p>ê°€ì¥ ê¸°ë³¸ì ì¸ <code class=\"language-text\">APIView</code> í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ì—¬ ë·° í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ë³´ì. ì´ëŠ” <code class=\"language-text\">from rest_framework.views import APIView</code>ë¡œ ì„í¬íŠ¸í•˜ê³  í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ë„ë¡ êµ¬í˜„í•˜ë©´ ëœë‹¤.</p>\n<p>ì €ë²ˆê¹Œì§€ëŠ” ì „ì²´ item listë¥¼ ì–»ëŠ” ê²ƒê³¼ itemì„ ì¶”ê°€í•˜ëŠ” ê²ƒì— ëŒ€í•˜ì—¬ ì•Œì•„ë³´ì•˜ìœ¼ë‹ˆ ì˜¤ëŠ˜ì€ íŠ¹ì • ì•„ì´í…œì„ ë‹¤ë£¨ëŠ” ê²ƒê¹Œì§€ êµ¬í˜„í•´ë³´ì. í´ë˜ìŠ¤ ì•ˆì—ì„œ Rest request Methodì— í•´ë‹¹í•˜ëŠ” ì´ë¦„ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ë©´ ëœë‹¤. item/views.pyë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì¶”ê°€í•´ì£¼ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> rest_framework<span class=\"token punctuation\">.</span>response <span class=\"token keyword\">import</span> Response\n<span class=\"token keyword\">from</span> rest_framework<span class=\"token punctuation\">.</span>views <span class=\"token keyword\">import</span> APIView\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>http <span class=\"token keyword\">import</span> Http404\n<span class=\"token keyword\">from</span> rest_framework <span class=\"token keyword\">import</span> status\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Item\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>serializers <span class=\"token keyword\">import</span> ItemSerializer\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ItemListView</span><span class=\"token punctuation\">(</span>APIView<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    item listë¥¼ ë¦¬í„´í•˜ê±°ë‚˜ ìƒˆë¡œìš´ itemì„ createí•˜ëŠ” í´ë˜ìŠ¤\n    \"\"\"</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        items <span class=\"token operator\">=</span> Item<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        serializer <span class=\"token operator\">=</span> ItemSerializer<span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">,</span> many<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>serializer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n    \n    <span class=\"token keyword\">def</span> <span class=\"token function\">post</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        serializer <span class=\"token operator\">=</span> ItemSerializer<span class=\"token punctuation\">(</span>data<span class=\"token operator\">=</span>request<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> serializer<span class=\"token punctuation\">.</span>is_valid<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            serializer<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>serializer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">,</span> status<span class=\"token operator\">=</span>status<span class=\"token punctuation\">.</span>HTTP_201_CREATED<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>serializer<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">,</span> status<span class=\"token operator\">=</span>status<span class=\"token punctuation\">.</span>HTTP_400_BAD_REQUEST<span class=\"token punctuation\">)</span> \n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ItemDetailView</span><span class=\"token punctuation\">(</span>APIView<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    íŠ¹ì • pkì˜ Itemì„ Read, Update, Deleteí•˜ëŠ” í´ë˜ìŠ¤\n    ìš”ì²­ì— ëŒ€í•˜ì—¬ pkê°€ ì£¼ì–´ì ¸ì•¼ í•œë‹¤\n    \"\"\"</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_object</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> pk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># íŠ¹ì • pkì˜ Itemì„ ë¦¬í„´</span>\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> Item<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>pk<span class=\"token operator\">=</span>pk<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">except</span> Item<span class=\"token punctuation\">.</span>DoesNotExist<span class=\"token punctuation\">:</span>\n            <span class=\"token comment\"># Itemì´ ì—†ë‹¤ë©´ DoesNotExist error throw</span>\n            <span class=\"token comment\"># ì´ì— 404ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¤ë„ë¡ í•œë‹¤</span>\n            <span class=\"token keyword\">raise</span> Http404\n        \n    <span class=\"token keyword\">def</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">,</span> pk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        item <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_object<span class=\"token punctuation\">(</span>pk<span class=\"token punctuation\">)</span> <span class=\"token comment\"># error ë°œìƒí•˜ë©´ ì´í›„ ì‹¤í–‰ë˜ì§€ ì•Šê³  ë°”ë¡œ 404 response</span>\n        serializer <span class=\"token operator\">=</span> ItemSerializer<span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token comment\"># ì§ë ¬í™”(DB to json) ìˆ˜í–‰, í•˜ë‚˜ì´ë¯€ë¡œ many=Trueì¼ í•„ìš”ì—†ìŒ</span>\n        <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>serializer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n    \n    <span class=\"token keyword\">def</span> <span class=\"token function\">put</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">,</span> pk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        item <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_object<span class=\"token punctuation\">(</span>pk<span class=\"token punctuation\">)</span>\n        serializer <span class=\"token operator\">=</span> ItemSerializer<span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> data<span class=\"token operator\">=</span>request<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span> <span class=\"token comment\"># serailizerì˜ update í•¨ìˆ˜ ìˆ˜í–‰</span>\n        <span class=\"token keyword\">if</span> serializer<span class=\"token punctuation\">.</span>is_valid<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            serializer<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>serializer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>serializer<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">,</span> status<span class=\"token operator\">=</span>status<span class=\"token punctuation\">.</span>HTTP_400_BAD_REQUEST<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">delete</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">,</span> pk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        item <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_object<span class=\"token punctuation\">(</span>pk<span class=\"token punctuation\">)</span>\n        item<span class=\"token punctuation\">.</span>delete<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\"># pk ê¸°ë°˜ì˜ ì‚­ì œëŠ” serializerë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ORMì˜ deleteë¥¼ ìˆ˜í–‰í•œë‹¤</span>\n        <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>status<span class=\"token operator\">=</span>status<span class=\"token punctuation\">.</span>HTTP_204_NO_CONTENT<span class=\"token punctuation\">)</span></code></pre></div>\n<p>ê° ë©”ì†Œë“œ ë³„ë¡œ pkê°€ í•„ìš”í•œ ê²½ìš°ê°€ ìˆìœ¼ë¯€ë¡œ ì´ì— ë”°ë¼ url patternì´ ë‹¬ë¼ì§€ë¯€ë¡œ ë³„ê°œì˜ í´ë˜ìŠ¤ë¡œ ë‚˜ëˆ„ì—ˆë‹¤.(í•˜ë‚˜ì˜ í´ë˜ìŠ¤ê°€ í•˜ë‚˜ì˜ urlì— ë§¤í•‘ë˜ëŠ” ê²ƒì´ ì›ì¹™)</p>\n<p>í•¨ìˆ˜ ì´ë¦„ì€ ì •í•´ì ¸ ìˆìœ¼ë‹ˆ ì£¼ì˜í•´ì•¼í•œë‹¤. ë˜í•œ, pkì™€ ê°™ì´ url pathì´ í•„ìš”í•œ ê²½ìš°ì—ëŠ” í•¨ìˆ˜ì— ì¸ìë¥¼ pkì™€ ê°™ì´ ì¶”ê°€í•´ì¤˜ì„œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  get_objectë¡œ ê°€ì¥ ê¸°ë³¸ì ì¸ í•¨ìˆ˜ë¥¼ ì •ì˜í•œ ì´í›„ì— í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ê°€ í•„ìš”í•œ ìƒí™©ì— ì´ë¥¼ ê°€ì ¸ì™€ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</p>\n<p>ì´ì œ urlë¡œ ìš”ì²­ì„ ë³´ë‚´ë³´ê¸° ìœ„í•´ item/urls.pyë¥¼ ìˆ˜ì •í•´ì£¼ì. CBVë¡œ êµ¬í˜„í•œë‹¤ë©´ urlì„ <code class=\"language-text\">as_view()</code> í•¨ìˆ˜ë¡œ ë§¤í•‘í•´ì¤„ ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ë°©ë²•ìœ¼ë¡œ ì—¬ëŸ¬ methodì— ëŒ€í•´ ëŒ€ì‘í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>urls <span class=\"token keyword\">import</span> path\n<span class=\"token keyword\">from</span> item <span class=\"token keyword\">import</span> views\nurlpatterns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">'create/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>create_item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">'list/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>ItemListView<span class=\"token punctuation\">.</span>as_view<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># get list / create</span>\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">'detail/&lt;int:pk>/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>ItemDetailView<span class=\"token punctuation\">.</span>as_view<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># get one / update / delete</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>ì´ì œ postmanì—ì„œ í…ŒìŠ¤íŠ¸í•´ë³´ì!</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 154.44444444444446%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAACXBIWXMAABYlAAAWJQFJUiTwAAADTklEQVRIx5VWWXLaQBTUQQzaZh+NdkAC27FxwUfuf59OvSfEkmBwPrpm0Uyr3ypFxhh476GUgtaaQXvW2jOccww6N89pfz5/jej19RWHw4EPFEWBsiwZHx8f+Pz8ZHx9fTGOxyP2+z3Ph2FgYrpzjUhKCSEEaJzxk/W8N8/ndUSm1nXNizzPUVXVWWmWZdBK83NXeIjSII5jPkPmEUkIgdc0ssIilLDO8QF3Go01/FAZDWn1+RmdI//Siwn0QhonhdNetB9WCEYhFwJlCLxJl2gujUbmJKSQ54CQr5MkwXK5xGKxYMWE5WmMhq7BYf+JcRz58GyONgZVWaEswlkhuYFMI/eQBW3b8r5UCm3h4I1G1K9WOByPeH9740Nd151ThOZN00yKyxJ93zMJEdJ6s9lMrtEaDRFag4hkknSpJF98eXlhk9iM5ZLx3Zru0XxaJ4iTBFGappzU12lBe9egC3/vfYeIDs8kFLUsSyGkQug28E0P4wO0ksjo+Q9ewISkcE6BNEkgKDeHV9hQwSmBbV+hLT3awsIo+ZyQFJIyIkziGNJYNOM7XN3Beo/VbsBq7DkvyXezynvEV4QZgxI0y3NWR+aaooI0DkIKKC2f+vNk8oXQWscql4sFI14ueH2j6Bt1d3w4keZSwVUNXNnA+IJTKrkT9bsmT6osL9iHHBQ9+bBqOfvXdYHgDGpnngeFCCmhL4QxpDYTISm0BsNujc3YwzrD5j704aTwQsgmUzNoetiyhi0b2FBDG42i9De+fGoyzamOKQgUjJjK7NRFZqJHZP8S5hkE9TohoZyHsp5zklLmWTAe+pCDsv2F0K2nluYtrJI/qul/fJieokylR0lNdbwZOqyHjpUmPwvKJW3SdCKs1lv4uoNvOhRtDx8cjL2U3kNC5y5BmVv8TSDi5CZdnvgw5cjSSIRc1/ThUZorJlcaaZZx86Qmeh2Y/6qUenibeqL36MsCXitYJSBF/jzKs8kXHyrUmx1MUcLIHLuxxW7bcxlKIW7q+htCd/YhJbJQBtVmNwWlbhH6FUIdYJzBYkHflPQm0a9xNpnUSSn4k8lz+s4Q6A+B/yoyfs6N+NTq7iGaDkqs1h1+//7AZl1gO9YYh/IvVIzt+Bh/ABnQgFeyik5pAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"list\" title=\"list\" src=\"/static/554611d1e389382110cd483f942f8e71/37523/list.png\" srcset=\"/static/554611d1e389382110cd483f942f8e71/e9ff0/list.png 180w,\n/static/554611d1e389382110cd483f942f8e71/f21e7/list.png 360w,\n/static/554611d1e389382110cd483f942f8e71/37523/list.png 720w,\n/static/554611d1e389382110cd483f942f8e71/ef6b9/list.png 832w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>ì´ë²ˆì—ëŠ” íŠ¹ì • pkì— ì ‘ê·¼í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ë³´ë„ë¡ í•˜ì.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 77.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACCElEQVQ4y42T2XLbMAxF9SOxVkqkNqra7XgbezxO/eD//5vbuZDpcZp2kocjEsJCAAS9uq7hKMsSTdNgGAaRq6oSmf+DIEAYht/i7XY7bDYb7Pd7bLdbgf8cx+MRbdvC9/0vzjzkb7y3t7en0hnSebVaCdRTF0WREMfxc1VKfcG73++w1qIoimeZ6/Ual8sF5/NZ1tPphOv1+ml/OBzEh+14xeMnyzIhTVNBay3GJM9zwTm7PXH2r3hlWcAYI6W+nkhlGASSMf+rysAPA+hMS1C2gXbU0Yb/WKmXai3ZsScuU2bIgLFKoI1ZZJMhTpa+Ucc+ur3WrE6Jnffet6LkeDDTJEmeo6KsQaRiFPnSX2ZAW14WL86xesC9d5gGGQumrB/Z8lTjMnv0hjJhVjyU9rRNEoVUJTBZioBz+PH7htvtJkG7rhNo3Pc95nl+9nAcR7l97hmYM9q1LUyeo84NNq2FzzmMonA5scjhSykrBI/0X2fTDe6rzJX+IruXwmBsqDEaYRTDVBa6qKC0kUsIglD64wL863V8eikMuDj6UJnGr/UORdOhNAZdlaPUKWqTIUvVj97zEjCOpURmZcd36NJC6xTT3GOaOxi9zKTvB9InWf+DBOTN5bmGyQ269Qa269EMg2CbEpUtkCQR0jT5Fo9zpY3G9XpE3xWYJ4tpsrKOQyVMY/1j/gCQttlqGWE7pAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"detail1\" title=\"detail1\" src=\"/static/a0f6678b10048341c920efd0760afb5c/37523/detail1.png\" srcset=\"/static/a0f6678b10048341c920efd0760afb5c/e9ff0/detail1.png 180w,\n/static/a0f6678b10048341c920efd0760afb5c/f21e7/detail1.png 360w,\n/static/a0f6678b10048341c920efd0760afb5c/37523/detail1.png 720w,\n/static/a0f6678b10048341c920efd0760afb5c/ad12c/detail1.png 856w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>ê°™ì€ urlì— ëŒ€í•˜ì—¬ ë‹¤ì–‘í•œ methodë¡œ ì ‘ê·¼ì´ ê°€ëŠ¥í•œ ê²ƒë„ í™•ì¸ì´ ê°€ëŠ¥í•˜ë‹¤! ì˜ˆë¥¼ ë“¤ì–´, PUT ë©”ì†Œë“œë¡œ ë³´ë‚´ë©´ bodyì— ì•„ë¬´ê²ƒë„ ì ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ errorê°€ ë‚˜ì˜¬ê²ƒì´ë‹¤.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 73.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB1UlEQVQ4y5VTYXOkIAzll6gIBARUUNne3rbTbe///6Z3E1y3N9ftdPrhGYlJeC+JYp5njOMI5xyGYQCfl2VBzhnruu7gc0r1O8cdsf9bhkgpYZqm6vTe10LbtlWUUrBuG9ZSkJcF/pb0FbiGMMaAoZSqDiKClBLWWvSkIHuJMgcoLaEN3RlyPBlTY7mYJYO2bSFCCIgxViezZfn8zqyPdpQlYwwBOYaqgv0cw7ncErIOyq+QyuwMD7pEBpYIWuvKlFkyiEEER7sa9h3KOJfjlXHolYZgyuxgmCFCaYPREcbBQkmJpmnRNM3NPkJTpbY3K2oviJBzxPOfd5xfLnh9f8b17RdyYnnDjyBk11Wpg3fQWsHcZNV3c0CDjK72w/cYQhuDvu/r1NhqpdFrhV6pvTdKoeskuq672R3cqkcQL6cNOc33SU885THAOotpnKqfLzpWS6m+nvmChwXPTye8Xa91PY6i/Ff4f1aHN4DXw/uAyQ/wltC2e8Gd+QcEP/h2srzQfZ1y23V1YkfQkShl96XUO0OWwL3ink2n3whTwpYiUhxgtPrE4DuIYyCMuBS4EJHXjLzMtVffMfrEkKuG4HG5FJQy4+m8opwStm3EtkasS/gR/gLuDbYgvatU4wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"detail2\" title=\"detail2\" src=\"/static/c9772edc8c23ed39d0b4c54bc3a18b96/37523/detail2.png\" srcset=\"/static/c9772edc8c23ed39d0b4c54bc3a18b96/e9ff0/detail2.png 180w,\n/static/c9772edc8c23ed39d0b4c54bc3a18b96/f21e7/detail2.png 360w,\n/static/c9772edc8c23ed39d0b4c54bc3a18b96/37523/detail2.png 720w,\n/static/c9772edc8c23ed39d0b4c54bc3a18b96/302a4/detail2.png 1080w,\n/static/c9772edc8c23ed39d0b4c54bc3a18b96/cd78c/detail2.png 1236w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>í•˜ì§€ë§Œ, updateëŠ” ë°”ê¿€ ê°’ë“¤ë§Œ bodyì— ì‹¤ì–´ì„œ ë³´ë‚´ëŠ” ê²ƒì´ ë” í¸í•˜ë‹¤. ì´ëŠ” Serializingì„ í•´ì¤„ ë•Œ, <strong>partial=True</strong> ì˜µì…˜ì„ ë„£ì–´ì£¼ë©´ ëœë‹¤.</p>\n<p><code class=\"language-text\">serializer = ItemSerializer(item, data=request.data, partial=True)</code></p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABvUlEQVQ4y5VTWW7rMAzUSSJbuyxZ8m4j6Ffvf6d5IGO3CZAAfR9jUjSXEUmJaZowDANCCOi6DvM8Y9s2rOuKfd8Zx75jWRb2iTF+BMWLvu+RUoL3ng2lFAYVqUNlfZwn5L5HDL/BV3KKu87OOQhrLQjGmB9j27YIPkA5A60V9iFD6xbWup9grTX7KqUecdZCSglxsSI5jiOIMenEkFnWinmeUHLGXDK6lNhOPuS7bSuMC9B5hdIW4qpkiZnSUAStmUHbqie0T1AvetO0aE4piLL3DuNUMK0ThqlgPwasW0VKHjn/HwRVIDZd5xGCRQyW5aU/n/8C0TQNCLebhJS/8tJvUkKePmRrzn+fILoYmSGNn6YdvIcJFtY99GvqlPC5j9SqdxDf9wPHvvHEUs4s+1oQYuAJ0wbQSqWu44LeWRitHwVO5s8QtCr3+x05Z2ZEA8opw/vAC38t/VArfAjIMcBbw214nfwDgpaRlpeqa+dhaaFVi0ZKBv1/9O+UJ5N3beCE1D+6Et2/7l9IpeJYBixDD2c079Y7Js0nhvShhIRYRsRckGpF6tNL4KcEbxPye3aWDdqYl5fw10RXwn/OF7Fu812yGwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"detail3\" title=\"detail3\" src=\"/static/6a3e47feac01b44b7541a24940afb9cf/37523/detail3.png\" srcset=\"/static/6a3e47feac01b44b7541a24940afb9cf/e9ff0/detail3.png 180w,\n/static/6a3e47feac01b44b7541a24940afb9cf/f21e7/detail3.png 360w,\n/static/6a3e47feac01b44b7541a24940afb9cf/37523/detail3.png 720w,\n/static/6a3e47feac01b44b7541a24940afb9cf/302a4/detail3.png 1080w,\n/static/6a3e47feac01b44b7541a24940afb9cf/636d3/detail3.png 1222w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>ì—¬ê¸°ê¹Œì§€ <code class=\"language-text\">APIView</code>ë¥¼ ì´ìš©í•˜ì—¬ êµ¬í˜„í•œ ì½”ë“œëŠ” <a href=\"https://github.com/choieastsea/market-guri-django/commit/98e15e109dd411a729244eff3d0c7ede484ee9b8\">ì—¬ê¸°ë¥¼ ì°¸ê³ </a>í•œë‹¤.</p>\n<p>FBVì™€ CBVë¥¼ ëª¨ë‘ êµ¬í˜„í•´ë³´ì•˜ë‹¤. ë” ìì„¸í•œ ì„¤ëª…ì€ <a href=\"https://www.django-rest-framework.org/api-guide/views/\">ê³µì‹ë¬¸ì„œ</a>ë¥¼ ì°¸ê³ í•˜ë„ë¡ í•˜ì.</p>\n<h2 id=\"drfì˜-í´ë˜ìŠ¤ë¥¼-ì´ìš©í•˜ì—¬-ì½”ë“œë¥¼-ì§§ê²Œ-ë§Œë“¤ê¸°\" style=\"position:relative;\"><a href=\"#drf%EC%9D%98-%ED%81%B4%EB%9E%98%EC%8A%A4%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%EC%BD%94%EB%93%9C%EB%A5%BC-%EC%A7%A7%EA%B2%8C-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"drfì˜ í´ë˜ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ ì½”ë“œë¥¼ ì§§ê²Œ ë§Œë“¤ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DRFì˜ í´ë˜ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ ì½”ë“œë¥¼ ì§§ê²Œ ë§Œë“¤ê¸°</h2>\n<p>ìœ„ì—ì„œëŠ” APIViewë¥¼ ì´ìš©í•˜ì—¬ êµ¬í˜„í•´ì£¼ì—ˆë‹¤. í•˜ì§€ë§Œ, ìƒê°í•´ë³´ë©´ ìœ„ì—ì„œ êµ¬í˜„í•œ ê²ƒì²˜ëŸ¼ ë§¤ìš° ê°„ë‹¨í•œ rest apiëŠ” ë‹¤ë¥¸ ëª¨ë¸ì´ë¼ë„ ëª¨ë¸ê³¼ ì‹œë¦¬ì–¼ë¼ì´ì €ë§Œ ì œì™¸í•˜ë©´ ê°™ì€ ì½”ë“œë¥¼ ë°˜ë³µì ìœ¼ë¡œ ì ì–´ì•¼í•œë‹¤. ì´ëŠ” ì¥ê³ ì˜ ì„¤ê³„ ì›ì¹™ ì¤‘ í•˜ë‚˜ì¸ <a href=\"https://docs.djangoproject.com/ko/4.2/misc/design-philosophies/\">DRY</a>ì— ì–´ê¸‹ë‚œë‹¤! CBVë¥¼ ìœ„í•œ í´ë˜ìŠ¤ì˜ ìƒì†êµ¬ì¡°ë¥¼ ì•Œì•„ë³´ì.</p>\n<p>CBVë¥¼ ìœ„í•œ í´ë˜ìŠ¤ëŠ” View > APIView > Mixins > GenericAPIView > ViewSet > ModelViewSet ì˜ ìˆœì„œë¡œ ìƒì†ì´ ë˜ì–´ìˆë‹¤ê³  ë³´ë©´ ë  ê²ƒ ê°™ë‹¤. ê°ˆìˆ˜ë¡ ì¶”ìƒí™”ë˜ì–´ìˆìœ¼ë¯€ë¡œ ì½”ë“œëŠ” ì¤„ì–´ë“¤ì§€ë§Œ ììœ ë„ ì—­ì‹œ ì¤„ì–´ë“¤ ê²ƒì´ë‹¤. ë”°ë¼ì„œ, í•„ìš”í•œ ê¸°ëŠ¥ì´ ìˆëŠ” ë¶€ë¶„ì„ ì •ë¦¬í•˜ê³  ë‹¤ì¤‘ ìƒì†ì„ í†µí•˜ì—¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ìˆœì„œëŒ€ë¡œ ê°„ë‹¨í•˜ê²Œ ì•Œì•„ë³´ë„ë¡ í•˜ì.</p>\n<ul>\n<li>\n<p>APIView : pkê°€ í•„ìš”í•œ ì•¡ì…˜ê³¼ ê·¸ë ‡ì§€ ì•Šì€ ì•¡ì…˜ìœ¼ë¡œ methodë¥¼ êµ¬ë¶„í•˜ì—¬ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤. í•˜ì§€ë§Œ, í•¨ìˆ˜ë“¤ì„ ë³´ë©´ ê³µí†µì ìœ¼ë¡œ ëª¨ë¸(í˜¹ì€ queryset)ê³¼ serializerë¥¼ ì„ ì–¸í•˜ëŠ” ë¶€ë¶„ì´ ê²¹ì¹˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>\n</li>\n<li>\n<p>Mixins : APIViewì˜ CRUD ê¸°ëŠ¥ë“¤ì„ ê°ì êµ¬í˜„í•´ ë†“ì€ í´ë˜ìŠ¤. querysetê³¼ serializerê°€ ì¤‘ë³µë˜ë¯€ë¡œ ì´ë¥¼ ê³µí†µìœ¼ë¡œ í•´ê²°í•´ì¤€ë‹¤. ë˜í•œ ê°ì methodì—ì„œ í•„ìš”í•œ mixins í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë„ë¡ í•œë‹¤</p>\n</li>\n<li>\n<p>GenericView : GenericAPIViewì™€ mixinsì˜ í•¨ìˆ˜ë“¤ì˜ ì¡°í•©ìœ¼ë¡œ êµ¬ì„±í•œ í´ë˜ìŠ¤</p>\n</li>\n<li>\n<p>ViewSet</p>\n</li>\n<li>\n<p>ModelViewSet</p>\n</li>\n</ul>\n<h3 id=\"genericapiview--mixinsë¥¼-ì´ìš©í•˜ì—¬-êµ¬í˜„\" style=\"position:relative;\"><a href=\"#genericapiview--mixins%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%EA%B5%AC%ED%98%84\" aria-label=\"genericapiview  mixinsë¥¼ ì´ìš©í•˜ì—¬ êµ¬í˜„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GenericAPIView + mixinsë¥¼ ì´ìš©í•˜ì—¬ êµ¬í˜„</h3>\n<p>get all ë˜ëŠ” postë¥¼ ë‹´ë‹¹í•˜ë˜ APIView ê¸°ë°˜ í´ë˜ìŠ¤ë¥¼ mixinsë¥¼ ì´ìš©í•˜ì—¬ êµ¬í˜„í•´ë³´ì.</p>\n<p>items/views.pyì— ë‹¤ìŒê³¼ ê°™ì´ ì¶”ê°€í•´ì£¼ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> rest_framework <span class=\"token keyword\">import</span> generics<span class=\"token punctuation\">,</span> mixins\n\n<span class=\"token comment\"># GenericAPIView + mixins ì´ìš©í•œ CBV</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ItemListGenericAPIView</span><span class=\"token punctuation\">(</span>generics<span class=\"token punctuation\">.</span>GenericAPIView<span class=\"token punctuation\">,</span> mixins<span class=\"token punctuation\">.</span>ListModelMixin<span class=\"token punctuation\">,</span> mixins<span class=\"token punctuation\">.</span>CreateModelMixin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    GenericAPIViewë¥¼ ì´ìš©í•˜ì—¬ itemì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ì–»ë„ë¡ í•˜ëŠ” í´ë˜ìŠ¤\n    querysetê³¼ serailizer_class ì •ì˜í•´ì¤˜ì•¼í•¨.\n    \"\"\"</span>\n    queryset <span class=\"token operator\">=</span> Item<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    serializer_class <span class=\"token operator\">=</span> ItemSerializer\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># get override</span>\n        <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span> <span class=\"token comment\"># from mixins.ListModelMixin</span>\n    \n    <span class=\"token keyword\">def</span> <span class=\"token function\">post</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># post override</span>\n        <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span> <span class=\"token comment\"># from mixins.CreateModelMixin</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ItemDetailGenericAPIView</span><span class=\"token punctuation\">(</span>generics<span class=\"token punctuation\">.</span>GenericAPIView<span class=\"token punctuation\">,</span> mixins<span class=\"token punctuation\">.</span>RetrieveModelMixin<span class=\"token punctuation\">,</span> mixins<span class=\"token punctuation\">.</span>UpdateModelMixin<span class=\"token punctuation\">,</span> mixins<span class=\"token punctuation\">.</span>DestroyModelMixin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    queryset <span class=\"token operator\">=</span> Item<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    serializer_class <span class=\"token operator\">=</span> ItemSerializer\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>retrieve<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kargs<span class=\"token punctuation\">)</span> <span class=\"token comment\"># from mixins.RetrieveModelMixin</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">put</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># update override</span>\n        <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kargs<span class=\"token punctuation\">)</span> <span class=\"token comment\"># from mixins.UpdateModelMixin</span>\n    \n    <span class=\"token keyword\">def</span> <span class=\"token function\">delete</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># delete override</span>\n        <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>destroy<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kargs<span class=\"token punctuation\">)</span> <span class=\"token comment\"># from mixins.DestroyModelMixin</span>\n</code></pre></div>\n<p>APIViewë³´ë‹¤ ë¡œì§ì ìœ¼ë¡œ ê²¹ì¹˜ëŠ” ë¶€ë¶„ì´ ì¤„ì–´ë“¤ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\n<p>mixins í´ë˜ìŠ¤ëŠ” ê¸°ëŠ¥ë³„ë¡œ ì¡´ì¬í•˜ë©°, ìœ„ì—ì„œ ì‚¬ìš©í•œ listì™€ create ì´ì™¸ì—ë„ retrieve, update, destroyì— ëŒ€í•œ í´ë˜ìŠ¤ê°€ ì¡´ì¬í•˜ë©° í•´ë‹¹ í´ë˜ìŠ¤ì˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ëœë‹¤.</p>\n<p>í•˜ì§€ë§Œ, GenericApiViewë¥¼ ì´ìš©í•˜ë©´ í•„ìš”í•œ ê¸°ëŠ¥ì˜ mixinsë¥¼ ê°™ì´ ìƒì†í•´ì„œ êµ¬í˜„í•´ì¤˜ì•¼ í•œë‹¤. ì´ë¥¼ ì¢€ ë” ì§§ê²Œ ë§Œë“¤ì–´ë³´ì.</p>\n<h3 id=\"generic-viewsë¥¼-ì´ìš©í•˜ì—¬-êµ¬í˜„\" style=\"position:relative;\"><a href=\"#generic-views%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%EA%B5%AC%ED%98%84\" aria-label=\"generic viewsë¥¼ ì´ìš©í•˜ì—¬ êµ¬í˜„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Generic Viewsë¥¼ ì´ìš©í•˜ì—¬ êµ¬í˜„</h3>\n<p>ê²°êµ­ ì—­í• ì€ í¬ê²Œ ë‘ê°œë¡œ ë‚˜ëˆ ë³¼ ìˆ˜ ìˆë‹¤.</p>\n<ol>\n<li>list get / create new model -> <code class=\"language-text\">ListCreateAPIView</code></li>\n<li>get/update/delete specific model -> <code class=\"language-text\">RetrieveUpdateDestroyAPIView</code></li>\n</ol>\n<p>ì´ì— ëŒ€í•˜ì—¬ GenericAPIViewì™€ mixins í´ë˜ìŠ¤ë¥¼ ì¡°í•©í•œ generic view classê°€ ì¡´ì¬í•œë‹¤. ë”°ë¼ì„œ, ê¸°ëŠ¥ì— ë§ê²Œ ì´ë¥¼ ê°€ì ¸ë‹¤ ì“°ë©´ ë  ê²ƒê°™ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># Generic ì´ìš©í•œ CBV</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ItemDetailGenericView</span><span class=\"token punctuation\">(</span>generics<span class=\"token punctuation\">.</span>RetrieveUpdateDestroyAPIView<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    GenericViewë¥¼ ì´ìš©í•˜ì—¬ itemì˜ íŠ¹ì •ì •ë³´ë¥¼ ì–»ê±°ë‚˜, ì—…ë°ì´íŠ¸, ì‚­ì œ í•˜ë„ë¡ í•˜ëŠ” í´ë˜ìŠ¤ \n    queryset, serializer_classë¥¼ ì •ì˜í•´ì•¼í•¨\n    \"\"\"</span>\n    queryset <span class=\"token operator\">=</span> Item<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    serializer_class <span class=\"token operator\">=</span> ItemSerializer\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ItemListGenericView</span><span class=\"token punctuation\">(</span>generics<span class=\"token punctuation\">.</span>ListCreateAPIView<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    GenericViewë¥¼ ì´ìš©í•˜ì—¬ itemì˜ listì–»ê±°ë‚˜ create í•˜ë„ë¡ í•˜ëŠ” í´ë˜ìŠ¤ \n    queryset, serializer_classë¥¼ ì •ì˜í•´ì•¼í•¨\n    \"\"\"</span>\n    queryset <span class=\"token operator\">=</span> Item<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    serializer_class <span class=\"token operator\">=</span> ItemSerializer</code></pre></div>\n<p>ì´ëŸ¬ê³ , urls.pyì—ì„œë„ ì¶”ê°€í•´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">path<span class=\"token punctuation\">(</span><span class=\"token string\">'list/generics/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>ItemListGenericView<span class=\"token punctuation\">.</span>as_view<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\npath<span class=\"token punctuation\">(</span><span class=\"token string\">'detail/generics/&lt;int:pk>/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>ItemDetailGenericView<span class=\"token punctuation\">.</span>as_view<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>ë‹¨ ì„¸ì¤„ë§Œìœ¼ë¡œ ì´ ëª¨ë“  ê¸°ëŠ¥ì´ ê°€ëŠ¥í•´ì§€ëŠ” ê²ƒì´ë‹¤!! ì—¬ê¸°ì„œëŠ” í•œë²ˆì— update, delete, getì„ ì²˜ë¦¬í•˜ëŠ” generic view í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•˜ì§€ë§Œ, ìƒí™©ì— ë”°ë¼ í•„ìš”í•œ ì¡°í•©ì˜ methodë§Œ ê°–ëŠ” í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ë©´ ëœë‹¤. ê·¸ë ‡ë‹¤ë©´ í•´ë‹¹ methodë¥¼ ì•Œì•„ì„œ ì²˜ë¦¬í•´ì¤„ ê²ƒì´ë‹¤.</p>\n<p>ìœ„ì˜ ì½”ë“œëŠ” partial update ë“±ì˜ ê¸°ëŠ¥ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ì´ëŠ” updateí•¨ìˆ˜ë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ë©´ ë  ê²ƒì´ë‹¤. ê·¸ê±°ê¹Œì§€ í¬í•¨í•œ ê¸°ëŠ¥ì„ ë°‘ì—ì„œ êµ¬í˜„í•´ë³´ì.</p>\n<p>ìƒì†ê´€ê³„ê°€ ì¢€ ì–´ë µê²Œ ëŠê»´ì§€ëŠ”ë°, ì´ëŠ” <a href=\"https://www.django-rest-framework.org/api-guide/generic-views/\">ê³µì‹ë¬¸ì„œ</a>ì˜ extendsë€ì„ ì°¸ê³ í•˜ë©´ ë  ê²ƒ ê°™ë‹¤.</p>\n<h3 id=\"viewsetê³¼-modelviewsetì„-ì´ìš©í•œ-êµ¬í˜„\" style=\"position:relative;\"><a href=\"#viewset%EA%B3%BC-modelviewset%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EA%B5%AC%ED%98%84\" aria-label=\"viewsetê³¼ modelviewsetì„ ì´ìš©í•œ êµ¬í˜„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ViewSetê³¼ ModelViewSetì„ ì´ìš©í•œ êµ¬í˜„</h3>\n<p>GenericViewëŠ” url pathì— ë”°ë¼ì„œ url patternì„ ì¶”ê°€ì ìœ¼ë¡œ ì ì–´ì¤˜ì•¼í•˜ëŠ” ê·€ì°®ìŒì´ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë°”ë¡œ ìœ„ì˜ ì½”ë“œë„ ë³´ë©´ ë‚´ìš©ì€ ê°™ì€ë° ìƒì†í•˜ëŠ” ê²ƒë§Œ ë‹¤ë¥´ê³ , ì´ì— ë”°ë¼ url patternë„ ì—¬ëŸ¬ê°œê°€ ëœë‹¤. ë”°ë¼ì„œ, ì´ë¥¼ router í´ë˜ìŠ¤ë¥¼ ì´ìš©í•´ì„œ ì²˜ë¦¬í•´ì£¼ê³  ModelViewSetì—ì„œ í•œë²ˆì— listì™€ detailì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ViewSetë¥¼ ì´ìš©í•˜ì—¬ êµ¬í˜„í•˜ë ¤ë©´, <code class=\"language-text\">GenericViewSet</code>ê³¼ í•„ìš”í•œ ê¸°ëŠ¥ì˜ <code class=\"language-text\">mixins</code>ë“¤ì„ ì„í¬íŠ¸í•´ì„œ ì‚¬ìš©í•˜ë©´ ë  ê²ƒì´ë‹¤. ModelViewSetì€ ëª¨ë¸ì„ ë‹¤ë£¨ëŠ”ë° í•„ìš”í•œ ëª¨ë“  mixinsë“¤ì„ ë„£ì–´ë†“ì€ í´ë˜ìŠ¤ë¼ê³  ë³´ë©´ ëœë‹¤.</p>\n<blockquote>\n<p>ModelViewSetì€ mixins.CreateModelMixin, mixins.RetrieveModelMixin, mixins.UpdateModelMixin, mixins.ListModelMixin, mixins.DestroyModelMixin,  GenericViewSetë¥¼ ìƒì†í•¨</p>\n</blockquote>\n<p><a href=\"https://github.com/encode/django-rest-framework/blob/master/rest_framework/viewsets.py\">ì¶œì²˜ : DRF github</a></p>\n<p>ìœ„ì˜ <code class=\"language-text\">ItemListView</code>ì™€ <code class=\"language-text\">ItemDetailView</code>ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ë‹¨ ëª‡ì¤„ë§Œìœ¼ë¡œ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤! (partial updateë¥¼ ìœ„í•˜ì—¬ update í•¨ìˆ˜ë¥¼ ì˜¤ë²„ë¼ì´ë”©í•´ì£¼ì—ˆë‹¤)</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># ModelViewSet ì´ìš©í•œ CBV</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ItemModelViewSet</span><span class=\"token punctuation\">(</span>viewsets<span class=\"token punctuation\">.</span>ModelViewSet<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    ModelViewSetì„ ì´ìš©í•˜ì—¬ itemì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” í´ë˜ìŠ¤\n    queryset, serializer_classë§Œ ì •ì˜í•˜ë©´ ë‹¤ì–‘í•œ íŒ¨í„´ì— ëŒ€í•˜ì—¬ êµ¬í˜„ ê°€ëŠ¥\n    \"\"\"</span>\n    queryset <span class=\"token operator\">=</span> Item<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    serializer_class <span class=\"token operator\">=</span> ItemSerializer\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">update</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        kwargs<span class=\"token punctuation\">[</span><span class=\"token string\">'partial'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span> <span class=\"token comment\"># for partial update</span>\n        <span class=\"token keyword\">return</span> <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span></code></pre></div>\n<p>ì´ì œ urlê³¼ ì—°ê²°í•´ì£¼ë©´ ë˜ëŠ”ë°, rest_frameworkì˜ router classë¥¼ ì´ìš©í•˜ë©´ ë§¤ìš° ê°„í¸í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.</p>\n<p>router classì—ì„œ ì œê³µí•˜ëŠ” url íŒ¨í„´ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">URL pattern: ^users/$ Name: 'user-list'\nURL pattern: ^users/{pk}/$ Name: 'user-detail'</code></pre></div>\n<p>ë”°ë¼ì„œ ìš°ë¦¬ item/urls.pyì— ë‹¤ìŒê³¼ ê°™ì´ ì¶”ê°€í•´ì¤„ ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>urls <span class=\"token keyword\">import</span> path<span class=\"token punctuation\">,</span> include\n<span class=\"token keyword\">from</span> item <span class=\"token keyword\">import</span> views\n<span class=\"token keyword\">from</span> rest_framework <span class=\"token keyword\">import</span> routers\n\nrouter <span class=\"token operator\">=</span> routers<span class=\"token punctuation\">.</span>DefaultRouter<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nrouter<span class=\"token punctuation\">.</span>register<span class=\"token punctuation\">(</span><span class=\"token string\">r'mvs'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>ItemModelViewSet<span class=\"token punctuation\">)</span>\n\nurlpatterns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> include<span class=\"token punctuation\">(</span>router<span class=\"token punctuation\">.</span>urls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>ì´ë ‡ê²Œ í•˜ë©´ ë‹¤ì–‘í•œ url patternì— ëŒ€í•˜ì—¬ ì˜¤ëŠ˜ê¹Œì§€ ì ìš©í–ˆë˜ ëª¨ë“  ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤! ì»¤ë°‹ë‚´ìš©ì„ ë³´ë©´, APIViewë¶€í„° ModelViewSetê¹Œì§€ì˜ ì½”ë“œë¥¼ ë‹¤ ì ì–´ë†¨ìœ¼ë‹ˆ ì´í•´í•˜ê¸° í¸í•  ê²ƒì´ë‹¤!</p>\n<blockquote>\n<p>[GET] <a href=\"http://localhost:8000/item/mvs/1/\">http://localhost:8000/item/mvs/1/</a></p>\n<p>{</p>\n<p>â€‹    â€œitem_idâ€: 1,</p>\n<p>â€œnameâ€: â€œIphone G14â€,</p>\n<p>â€‹    â€œpriceâ€: 1700000,</p>\n<p>â€‹    â€œstock_countâ€: 10</p>\n<p>}</p>\n</blockquote>\n<p>createë„ í…ŒìŠ¤íŠ¸í•´ë³´ì•˜ë‹¤.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 73.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABz0lEQVQ4y5VT2W7bMBDUl1jiTZGUeIm2gbhG//+npljSDpK0DtKHwVLa5ezswel8PmPfd1hr4b1HKQW11o7WGo7jQMkZ3rkes67rt5jowrZt74Q550+kdE6lYHXu08Wv5Pbxb1JKQQgBsuSQUoIxBmsMFiUgOcclBzDBoLR+J+OcQ2sNxnj/NlphnmdMpI6UOeeQUkIIoZ9jjL0VMe44SkYk9VvAuo44iqHYo1YoYyFcBZcaE2XRj8xPhaRWKd0VDb+BVqqrID/9GzEKxhgIKcGlARcCE0mnkimQHCbsUFLCW41VKwjOcDrNmOell/TVnuYZy7JgediJyCgjZafG1rc7Yq24vl2RUoAUHFJSQv4jTDQArSRaiyglIEWHnANipF45pLgO+0NMQio8y+Zc9LKZ/NAGIfrUl4UNy4Z9hel+aX1aBBpKX/IwVoPONE1KSOQjMQfnrPfrn4S/779wu93wXJ++3Cl1cloPIqUzPQCy0TtY2rlXhFSCtWYsNOd99BRMeKVilP6CsL8S6pXSiNcb/LYjbQ7eaCghBumD/CNe9pAIqS80nK1eYH1AbQXerw8i9hfZd+hr44NDO0e0S8H5WnG0iNY25OxQsv8v/AELbrYcEcFbqwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"modelviewset\" title=\"modelviewset\" src=\"/static/983c5db823ccd95d7eba7551db2e2bab/37523/modelviewset.png\" srcset=\"/static/983c5db823ccd95d7eba7551db2e2bab/e9ff0/modelviewset.png 180w,\n/static/983c5db823ccd95d7eba7551db2e2bab/f21e7/modelviewset.png 360w,\n/static/983c5db823ccd95d7eba7551db2e2bab/37523/modelviewset.png 720w,\n/static/983c5db823ccd95d7eba7551db2e2bab/302a4/modelviewset.png 1080w,\n/static/983c5db823ccd95d7eba7551db2e2bab/c929c/modelviewset.png 1218w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>ë”°ë¼ì„œ, ë³µì¡í•œ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ë©´ ModelViewSetì—ì„œ ê°€ì¥ ì§§ì€ ì½”ë“œë¡œ CRUDë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ë§Œì•½ CRUDì—ì„œ ë¶€ê°€ì ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼í•  ì¼ë“¤ì´ ë§ë‹¤ë©´ ìƒí™©ì— ë”°ë¼ ViewSetì˜ ë¶€ëª¨ í´ë˜ìŠ¤ì¸ APIViewë¶€í„° ì ìš©í•´ë³¼ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. í•˜ì§€ë§Œ, ViewSet í˜¹ì€ ModelViewSetì—ì„œ ì˜¤ë²„ë¼ì´ë”© í•˜ë©´ì„œ ê¸°ëŠ¥ë“¤ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ë” í¸í•  ìˆ˜ë„ ìˆë‹¤.</p>\n<p>ë¬¼ë¡ , ê°œë°œìì˜ ììœ ë„ì— ë”°ë¼ trade-offê°€ ì¡´ì¬í•  ê²ƒì´ë‹¤. ë”°ë¼ì„œ, DRFì˜ ìƒì† êµ¬ì¡°ë¥¼ ì–´ëŠì •ë„ ì´í•´í•˜ê³ , í•„ìš”í•œ ìƒí™©ì— ì–´ë–¤ êµ¬ì¡°ë¥¼ ì‚¬ìš©í• ì§€ ìƒê°í•  ìˆ˜ ìˆë„ë¡ ê³µë¶€í•  í•„ìš”ê°€ ìˆë‹¤. DRFì˜ <a href=\"https://www.django-rest-framework.org/tutorial/3-class-based-views/\">CBV ê³µì‹ë¬¸ì„œ</a>ë¥¼ ì°¸ê³ í•˜ë©´ ì¢‹ì„ ê²ƒì´ë‹¤! ê°„ë‹¨í•œ ë¡œì§ì— ìˆì–´ì„œ ì¥ê³ ê°€ ë§¤ìš° í¸í•œ ê²ƒ ê°™ë‹¤â€¦</p>\n<p>CBVë¥¼ ë‹¤ë£¬ ì½”ë“œëŠ” <a href=\"https://github.com/choieastsea/market-guri-django/commit/eee0627c2061e4852707e6005e9e15dd3f65803b\">ì—¬ê¸°ë¥¼ ì°¸ê³ </a>í•œë‹¤.</p>","frontmatter":{"date":"April 15, 2022","title":"(Django) ì¥ê³  api ì„œë²„ë¥¼ ì´ìš©í•œ í”„ë¡œì íŠ¸ [6-DRF CBV(APIViewë¶€í„° ViewSetê¹Œì§€)]","categories":"BE","author":"choieastsea","emoji":"ğŸ™„"},"fields":{"slug":"/Django(6)-request-response/"}},"site":{"siteMetadata":{"siteUrl":"https://choieastsea.github.io","comments":{"utterances":{"repo":"choieastsea/choieastsea.github.io"}}}}},"pageContext":{"slug":"/Django(4)-migration/","nextSlug":"/Django(5)-serailizer-django-orm/","prevSlug":"/Django(6)-request-response/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}