{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/Alg-BT/",
    "result": {"data":{"cur":{"id":"6d534a9a-37c1-510b-8a91-54183d86d5ae","html":"<p>몇개의 문제와 함께 백트래킹 문제를 공부해보자.</p>\n<h2 id=\"backtracking-idea\" style=\"position:relative;\"><a href=\"#backtracking-idea\" aria-label=\"backtracking idea permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>BackTracking idea</h2>\n<p>보통 경우의 수를 만들어가는 문제에서 쓰이는 알고리즘으로, <code class=\"language-text\">search space</code>를 확장하면서 <strong>특정 조건(종료조건)을 만족할 때까지 가능한 모든 경우를 탐색할 때 적용</strong>할 수 있다.</p>\n<p>모든 상태 공간을 탐색하는 것이므로 여러가지 공간 탐색 알고리즘(BFS, DFS, A* search) 등을 이용할 수 있지만, 보통의 경우 재귀적인 DFS로 간단하게 해결 가능하다. BFS의 경우 tree’s width가 넓어지면 queue의 크기가 커져 메모리 초과가 날 수 있으므로 종료조건만 명확하다면 <strong>DFS가 대체로 좋을 것이다</strong>.</p>\n<p>내가 생각하는 백트래킹 문제의 핵심은 아래와 같다.</p>\n<ol>\n<li>상태 공간 그리기</li>\n<li>종료 조건 확인</li>\n<li><strong>복귀</strong></li>\n</ol>\n<h2 id=\"dfsrecursion\" style=\"position:relative;\"><a href=\"#dfsrecursion\" aria-label=\"dfsrecursion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DFS(recursion)</h2>\n<p>온라인 저지 문제들과 함께 기본적인 BT문제를 풀어보자.</p>\n<h3 id=\"leetcode-46-permutaions\" style=\"position:relative;\"><a href=\"#leetcode-46-permutaions\" aria-label=\"leetcode 46 permutaions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LeetCode 46. Permutaions</h3>\n<p>distinct integer로 구성된 배열이 주어졌을 때, 모든 순열을 리턴하는 문제이다. <a href=\"https://leetcode.com/problems/permutations/description/?envType=study-plan-v2&#x26;envId=top-interview-150\">링크</a></p>\n<p>4P4의 상태공간을 일부만 그려보았다. 색칠된 경우는 종료 조건이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACbUlEQVQoz5VSTWhTQRCepCnaWrWgVCiIPxdF0HgRhR48VU8evIhQCApeFA+KZ0F78WIFQRGP3h6UUiSiR62lSluhJxFM2kIMBEJi8t7Ozs6+t3kr82iC1z4YdmZn9nvffDMAALC+vg5xHIPWWiznvc9772F5eRlmZ2fBe58zxkjNa2utd85NMbPcFyRXKpWyGudcHvqASZIAEeWISJKZraysFIIgGFpdXR2WeHt7+2AURRfr9fq+6enpXL9OPjmdcwDlchmCIABmlj8IixNa68dhGJ6Too2NjQys2+1OKKUehWF4QeIgCPKIOKOUulepVPYg4h1jzK0BG+fcsLCL43hG2orj+D4iSm6PtJem6SVm9tbat1EUyf2QtfYHM9ecc5PW2p/MvDUATNN04C8sLIz2fTGRQ85qtXq4fyd6y1ksFvNCJAzDsW63OyK6ZQ+Y+TwiXo+i6CQi3uh0OseVUleZecoYM4WIDxuNxohS6orW+q73Xjq6RkQlYStDE+ZgjBlqtVoCvEhENkmSl1prae2JMWaLiH4x8zsiSp1zRSKaJyLtvRetvxFR03s/LmyJKA/9qdZqtYlms3lmp53JdrtdMMYcNcYcabVaBSKakBwijmqtD4lERDSGiOO9Xm8gD2hNZY36s+xUp9MRsHmN+qMMY0cKmbB0ku2aEBBL0zTzRcu+/nNzcwCa8Tka9cp7v/fyzbOgjXqmjXojgFLElvPySNZKYgH+z5eFH+xjpmFl0R37/cGctpZBVTxU32fxKUsy2QQ+3Tawq2/rq/qz+SVs17/H+58+eAGbS1Flcyn821hLDzTWepLP7QbwHyZTfXQKaGsuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"permutation\"\n        title=\"permutation\"\n        src=\"/static/a6a813483c4097de99a7cbc286073db3/37523/permutation.png\"\n        srcset=\"/static/a6a813483c4097de99a7cbc286073db3/e9ff0/permutation.png 180w,\n/static/a6a813483c4097de99a7cbc286073db3/f21e7/permutation.png 360w,\n/static/a6a813483c4097de99a7cbc286073db3/37523/permutation.png 720w,\n/static/a6a813483c4097de99a7cbc286073db3/302a4/permutation.png 1080w,\n/static/a6a813483c4097de99a7cbc286073db3/07a9c/permutation.png 1440w,\n/static/a6a813483c4097de99a7cbc286073db3/49a0e/permutation.png 5288w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>basic case (배열의 크기가 nums의 크기가 될 때) : 해당 배열을 정답배열에 추가한다</li>\n<li>recursion case (not basic) : 현재 공간에서 방문하지 않은 숫자를 방문처리하고 search space를 확장한다(다음 BT함수를 실행). 이후에는 방금 방문한 숫자를 안방문 처리한다!</li>\n</ul>\n<p>방문했던 숫자를 방문 이후에 False처리하는 이유는 sibling node에서 해당 숫자를 방문하기 위함이다. 재귀적으로 BT를 수행하면 다음 경우를 찾기 위해서는 sibling과 다른 부분은 <strong>복원 시켜줘야한다</strong>.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">permute</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">:</span> List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> List<span class=\"token punctuation\">[</span>List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        permList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n        visited <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token boolean\">False</span> <span class=\"token keyword\">for</span> _ <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">def</span> <span class=\"token function\">bt</span><span class=\"token punctuation\">(</span>perm<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>perm<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n              \t<span class=\"token comment\"># basic case</span>\n                permList<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>perm<span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">return</span>\n            <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n              \t<span class=\"token comment\"># recursion case</span>\n                <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> visited<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n                    visited<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n                    bt<span class=\"token punctuation\">(</span>perm<span class=\"token operator\">+</span><span class=\"token punctuation\">[</span>nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                    visited<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\n        bt<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> permList</code></pre></div>\n<p>가장 기본적인 BackTracking 문제로, <strong>확장하며 방문한 숫자는 다음 경우의 수를 탐색할 때(확장한 공간에서의 탐색이 종료되었을 때) 방문여부를 복원 시켜줘야한다는 것이 핵심</strong>이다.</p>\n<h3 id=\"leetcode-77-combinations\" style=\"position:relative;\"><a href=\"#leetcode-77-combinations\" aria-label=\"leetcode 77 combinations permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LeetCode 77. combinations</h3>\n<p>n, k가 주어졌을 때, 1~n까지의 수 중에서 k개를 뽑는 모든 경우의 수를 리턴하는 문제이다. <a href=\"https://leetcode.com/problems/combinations/?envType=study-plan-v2&#x26;envId=top-interview-150\">링크</a></p>\n<p>조합이므로 <strong>순서가 달라도 같은 구성이면 같은 경우의 수로 판단함</strong>을 유의하자.</p>\n<p>4C2의 상태공간을 그려보면 아래와 같다. 우리는 아래 색칠한 경우들을 모아서 리턴하면 된다!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAACGElEQVQozy2QP2hTURjFT5MnOjjpUpxE3LJ1E6V0cJEigmOhi7uLHcyiToKKHTrUvRAQrQ6hBZOQNpjcl2SwIAQcGpPmvaQmTZNXzOv9+177yY0dDpzvd8/94HwIwxBHR0cYDocgopnl5WXk83lks1mkUim4rotGowFjTF1rTXEcP1ZK2WyCiLC0tIRcLjf9yzmfQb/fR7PZRLFYtBCZTCaZy+WcbDab3N7ednZ2dhwACMNwgXP+LAiCWTvv7u46Nr+xsZFgjF2yfjKZAL7vIwiC6bLj4+NbpVLpSjqdnrFLt7a2nM3NzeTq6mqi3W7fsBmrQqHgZDIZZzAY3K5UKpctGwwGN8fj8VUbSFpgjEkrpcgY8z6KomkFWyuOY0RRtHLxti6ltLPVC8u01i/jOJ678C2c/D5ziCJoqeelVJ+lUItEMU72z51RW05rKanvCSE+SiEfEU3vB630guDiixTyvtb6upTyg1LqOfr1M9AvAg3/15mqRzA/CV7tFOMKgf5c8AlhVCU0iyGCjoQ4JPAeQZgQQghorQHflU88Jl71auaBXxVr3Zq667tq0XPFu141muswvu4x8ZZOyfFdudJh/FPX1bPdmprvMP6tW1MP/bLB375ylFRJeEy2DipcHtYjdlA+pV7VrPmu+mr9YT1+4zHR8pjYH+3RNZ/JfKfCz3tVc6db1U8PytzmXw9/EEZ7lGh9D/EPBbLIkHNhxEsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"combination\"\n        title=\"combination\"\n        src=\"/static/737edd12cf030c0a7bae73f66bb5831c/37523/combination.png\"\n        srcset=\"/static/737edd12cf030c0a7bae73f66bb5831c/e9ff0/combination.png 180w,\n/static/737edd12cf030c0a7bae73f66bb5831c/f21e7/combination.png 360w,\n/static/737edd12cf030c0a7bae73f66bb5831c/37523/combination.png 720w,\n/static/737edd12cf030c0a7bae73f66bb5831c/302a4/combination.png 1080w,\n/static/737edd12cf030c0a7bae73f66bb5831c/07a9c/combination.png 1440w,\n/static/737edd12cf030c0a7bae73f66bb5831c/2fb9e/combination.png 4648w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>재귀적으로 깊이우선 탐색을 구현하면 된다.</p>\n<ul>\n<li>Basic Case (배열의 크기가 k가 됨) : 해당 배열을 정답 배열(combList)에 추가한다</li>\n<li>Recursion Case (not basic) : 현재 배열의 가장 큰 수보다 더 큰 수를 추가하여 탐색한다</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">combine</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> List<span class=\"token punctuation\">[</span>List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        combList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">def</span> <span class=\"token function\">bt</span><span class=\"token punctuation\">(</span>comb<span class=\"token punctuation\">,</span> curMax<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>comb<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> k<span class=\"token punctuation\">:</span>\n                <span class=\"token comment\"># basic case</span>\n                combList<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>comb<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                <span class=\"token comment\"># recursion case</span>\n                <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>curMax<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> n<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token comment\"># 가장 최근에 넣은 값이 가장 큰 값이 되도록 BT 확장</span>\n                    bt<span class=\"token punctuation\">(</span>comb<span class=\"token operator\">+</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span>\n        bt<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> combList</code></pre></div>\n<p>조합이므로 겹치지 않게 하기 위하여 현재 수보다 큰 수를 넣어주는 로직을 추가하였다. 만약 comb:[1], curMax: 1 인 상태라면, <code class=\"language-text\">bt(comb=[1,2],curMax=2)</code>,<code class=\"language-text\">bt(comb=[1,3],curMax=3)</code> , <code class=\"language-text\">bt(comb=[1,4],curMax=4)</code>를 실행할 것이다.</p>\n<p>여기서는 조합을 숫자들의 대소관계를 이용하였으므로, visited를 사용하지 않고 하나의 curMax만을 이용하여 구현할 수 있었다.</p>\n<p>좀 더 응용한 문제를 살펴보자!</p>\n<h3 id=\"종료조건이-깊이가-아닌-경우-leetcode-39-combination-sum\" style=\"position:relative;\"><a href=\"#%EC%A2%85%EB%A3%8C%EC%A1%B0%EA%B1%B4%EC%9D%B4-%EA%B9%8A%EC%9D%B4%EA%B0%80-%EC%95%84%EB%8B%8C-%EA%B2%BD%EC%9A%B0-leetcode-39-combination-sum\" aria-label=\"종료조건이 깊이가 아닌 경우 leetcode 39 combination sum permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>종료조건이 깊이가 아닌 경우, LeetCode 39. Combination Sum</h3>\n<p><a href=\"https://leetcode.com/problems/combination-sum/description/?envType=study-plan-v2&#x26;envId=top-interview-150\">이 문제</a>처럼 종료조건이 깊이가 아닐 수도 있다. 하지만 원하는 경우(basic case)가 나올때까지 DFS탐색을 하는 것은 같다!</p>\n<p>해당 문제에서는 distinct positive integer로 구성된 배열에서 <u>숫자를 중복 사용하여 배열의 합이 target이 되도록 하는 조합</u>을 찾는 문제이다. 따라서 종료조건과 확장 방법이 조금 달라질 것이다. (너무 형식에 의존하지 않도록 하자)</p>\n<ol>\n<li>basic case(현재까지의 합이 target과 일치하는 경우) : 정답 배열에 추가</li>\n<li>recursion case(합이 target보다 작은 경우) : <strong>curMax이상의 값만 넣어</strong>서 다음 해공간을 탐색한다</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">combinationSum</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> candidates<span class=\"token punctuation\">:</span> List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> target<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> List<span class=\"token punctuation\">[</span>List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        combList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">def</span> <span class=\"token function\">bt</span><span class=\"token punctuation\">(</span>comb<span class=\"token punctuation\">,</span> currentSum<span class=\"token punctuation\">,</span> curMax<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> currentSum <span class=\"token operator\">==</span> target<span class=\"token punctuation\">:</span>\n                <span class=\"token comment\"># basic case</span>\n                combList<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>comb<span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">return</span>\n            <span class=\"token keyword\">elif</span> currentSum <span class=\"token operator\">&lt;</span> target<span class=\"token punctuation\">:</span>\n            <span class=\"token comment\"># recursion case : number can be used multiple times</span>\n                <span class=\"token keyword\">for</span> num <span class=\"token keyword\">in</span> candidates<span class=\"token punctuation\">:</span>\n                    <span class=\"token comment\"># 작은순서대로 comb 배열에 들어가도록 함 (추가시, 현재 최대 이상의 값이 들어가도록)</span>\n                    <span class=\"token keyword\">if</span> num <span class=\"token operator\">>=</span> curMax<span class=\"token punctuation\">:</span>\n                        bt<span class=\"token punctuation\">(</span>comb<span class=\"token operator\">+</span><span class=\"token punctuation\">[</span>num<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> currentSum <span class=\"token operator\">+</span> num<span class=\"token punctuation\">,</span> num<span class=\"token punctuation\">)</span>\n        bt<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> combList</code></pre></div>\n<p>curMax는 이전 문제와 비슷하게, 현재 search space의 줄기(from tree)에서의 comb 배열에 사용된 최댓값이다. <strong>조합은 모든 숫자의 배열이 상관 없으므로, 내림차순 혹은 오름차순으로 배열을 만들면 오로지 하나의 조합만을 만들어 낼 수 있는 trick을 이용</strong>하는 것이다.</p>\n<h3 id=\"search-space의-타입이-다른-경우-leetcode-79-word-search\" style=\"position:relative;\"><a href=\"#search-space%EC%9D%98-%ED%83%80%EC%9E%85%EC%9D%B4-%EB%8B%A4%EB%A5%B8-%EA%B2%BD%EC%9A%B0-leetcode-79-word-search\" aria-label=\"search space의 타입이 다른 경우 leetcode 79 word search permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>search space의 타입이 다른 경우, LeetCode 79. Word Search</h3>\n<p><a href=\"https://leetcode.com/problems/word-search/\">이 문제</a>처럼 해 공간이 숫자 배열이 아닐 수도 있다. 인터넷에 Counter를 이용한 더 빠른 풀이가 있지만, 오늘 배운 내용과 유사하게 풀어보자.</p>\n<p>주변 글자로 탐색해가며 word와 일치하는 문자열을 만들 수 있는지 여부를 반환하면 된다.</p>\n<ol>\n<li>basic case (탐색 완료한 경우) : 결과를 업데이트하고 종료</li>\n<li>recursion case (not basic) : 방문하지 않은 주변 4방향의 칸을 확인하고, 문자열이 만들어진다면 그 공간으로 확장. 이후에는 방금 방문처리한 곳을  <strong>복원 해준다</strong>.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">exist</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> board<span class=\"token punctuation\">:</span> List<span class=\"token punctuation\">[</span>List<span class=\"token punctuation\">[</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> word<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">bool</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">def</span> <span class=\"token function\">expand</span><span class=\"token punctuation\">(</span>curRow<span class=\"token punctuation\">,</span> curCol<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token triple-quoted-string string\">\"\"\"\n            현재 칸에서 방문하지 않은 인접한 4방향의 다음 칸으로 확장\n            \"\"\"</span>\n            nextList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n            directions <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n            <span class=\"token keyword\">for</span> dr<span class=\"token punctuation\">,</span> dc <span class=\"token keyword\">in</span> directions<span class=\"token punctuation\">:</span>\n                nextRow<span class=\"token punctuation\">,</span> nextCol <span class=\"token operator\">=</span> curRow <span class=\"token operator\">+</span> dr<span class=\"token punctuation\">,</span> curCol <span class=\"token operator\">+</span> dc\n                <span class=\"token keyword\">if</span> nextRow <span class=\"token operator\">&lt;=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>board<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token keyword\">and</span> nextRow <span class=\"token operator\">>=</span> <span class=\"token number\">0</span> <span class=\"token keyword\">and</span> nextCol <span class=\"token operator\">&lt;=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>board<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token keyword\">and</span> nextCol <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> visited<span class=\"token punctuation\">[</span>nextRow<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>nextCol<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n                        nextList<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>nextRow<span class=\"token punctuation\">,</span> nextCol<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> nextList\n                \n        <span class=\"token keyword\">def</span> <span class=\"token function\">bt</span><span class=\"token punctuation\">(</span>curRow<span class=\"token punctuation\">,</span> curCol<span class=\"token punctuation\">,</span> wordLength<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">nonlocal</span> result\n            <span class=\"token keyword\">if</span> wordLength <span class=\"token operator\">==</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>word<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                <span class=\"token comment\"># basic case</span>\n                result <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n                <span class=\"token keyword\">return</span>\n            <span class=\"token comment\"># recursion case</span>\n            <span class=\"token keyword\">for</span> nextRow<span class=\"token punctuation\">,</span> nextCol <span class=\"token keyword\">in</span> expand<span class=\"token punctuation\">(</span>curRow<span class=\"token punctuation\">,</span> curCol<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">if</span> board<span class=\"token punctuation\">[</span>nextRow<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>nextCol<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> word<span class=\"token punctuation\">[</span>wordLength<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n                    visited<span class=\"token punctuation\">[</span>nextRow<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>nextCol<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n                    bt<span class=\"token punctuation\">(</span>nextRow<span class=\"token punctuation\">,</span> nextCol<span class=\"token punctuation\">,</span> wordLength <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n                    visited<span class=\"token punctuation\">[</span>nextRow<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>nextCol<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\n        result <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\n        <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>board<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>board<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">if</span> board<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> word<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token comment\"># 첫 글자 일치하면 BT시작</span>\n                    visited <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token boolean\">False</span> <span class=\"token keyword\">for</span> _ <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>board<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> _ <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>board<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n                    visited<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n                    bt<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span>j<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">if</span> result<span class=\"token punctuation\">:</span>\n                        <span class=\"token keyword\">return</span> <span class=\"token boolean\">True</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></code></pre></div>\n<p>expand함수를 만들어서, 방문하지 않았고 board의 범위를 넘어서지 않는 곳으로 다음 좌표들의 배열을 리턴하도록 하였다.</p>\n<p>결과를 기록하기 위하여 클래스 내부 함수에서 외부 함수의 변수에 접근하기 위하여 <code class=\"language-text\">nonlocal</code> 키워드를 사용하였으니 참고하자. BackTracking의 경우, 가능한 마지막 depth에서 종료되므로 리턴값을 가져오기가 까다로워 위처럼 사용하였다.</p>\n<h2 id=\"pythonic-way---itertools\" style=\"position:relative;\"><a href=\"#pythonic-way---itertools\" aria-label=\"pythonic way   itertools permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pythonic way - itertools</h2>\n<p>파이썬에는 경우의 수를 만들어주는 아주 감사한 라이브러리(<code class=\"language-text\">itertools</code>)가 내장되어있다.</p>\n<p>위의 문제들을 itertools로 가볍게 풀어보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> itertools\n<span class=\"token comment\"># 46</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">permute</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">:</span> List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> List<span class=\"token punctuation\">[</span>List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> itertools<span class=\"token punctuation\">.</span>permutations<span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">,</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># 77</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">combine</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> List<span class=\"token punctuation\">[</span>List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> itertools<span class=\"token punctuation\">.</span>combinations<span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>n<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>k<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 39 -> 이 코드는 시간초과됨</span>\n<span class=\"token keyword\">import</span> itertools\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">combinationSum</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> candidates<span class=\"token punctuation\">:</span> List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> target<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> List<span class=\"token punctuation\">[</span>List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        k <span class=\"token operator\">=</span> target <span class=\"token operator\">//</span> <span class=\"token builtin\">min</span><span class=\"token punctuation\">(</span>candidates<span class=\"token punctuation\">)</span> <span class=\"token comment\"># 최대 중복 허용 갯수</span>\n        combList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">for</span> l <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>k<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">for</span> comb <span class=\"token keyword\">in</span> itertools<span class=\"token punctuation\">.</span>combinations_with_replacement<span class=\"token punctuation\">(</span>candidates<span class=\"token punctuation\">,</span>l<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">if</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>comb<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> target<span class=\"token punctuation\">:</span>\n                    combList<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>comb<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> combList</code></pre></div>\n<p>위처럼 <code class=\"language-text\">combinations</code>, <code class=\"language-text\">permutations</code>, <code class=\"language-text\">combinations_with_replacement</code> (중복 조합), <code class=\"language-text\">product</code>(중복 순열을 포함한 데카르트 곱) 을 이용하여 단순한 경우의 수는 바로 2차원 배열을 얻을 수 있는 방법이 있으니 참고하면 좋을 것이다!</p>","excerpt":"몇개의 문제와 함께 백트래킹 문제를 공부해보자. BackTracking idea 보통 경우의 수를 만들어가는 문제에서 쓰이는 알고리즘으로, 를 확장하면서 특정 조건(종료조건)을 만족할 때까지 가능한 모든 경우를 탐색할 때 적용할 수 있다. 모든 상태 공간을 탐색하는 것이므로 여러가지 공간 탐색 알고리즘(BFS, DFS, A* search) 등을 이용할 수 있지만, 보통의 경우 재귀적인 DFS로 간단하게 해결 가능하다. BFS의 경우 tree’s width가 넓어지면 queue의 크기가 커져 메모리 초과가 날 수 있으므로 종료조건만 명확하다면 DFS가 대체로 좋을 것이다. 내가 생각하는 백트래킹 문제의 핵심은 아래와 같다. 상태 공간 그리기 종료 조건 확인 복귀 DFS(recursion) 온라인 저지 문제들과 함께 기본적인 BT문제를 풀어보자. LeetCode 46. Permutaions distinct integer로 구성된 배열이 주어졌을 때, 모든 순열을 리턴하는 문제이다. 링…","frontmatter":{"date":"September 28, 2023","title":"(Alg) BackTracking algorithms","categories":"Alg","author":"choieastsea","emoji":"🫠"},"fields":{"slug":"/Alg-BT/"}},"next":{"id":"23768c60-0ff7-5ce5-8d74-1504f5f393b5","html":"<h1 id=\"intuition\" style=\"position:relative;\"><a href=\"#intuition\" aria-label=\"intuition permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Intuition</h1>\n<p>matrix가 주어졌을 때, 나선형으로 flatten한 일차원 배열을 리턴하는 문제이다. <a href=\"https://leetcode.com/problems/spiral-matrix/\">링크</a></p>\n<p>2차원 배열이 입력으로 주어지지만, <code class=\"language-text\">n*1</code> 또는 <code class=\"language-text\">1*n</code> 크기의 배열이 주어질수도 있으므로 인덱스를 잘 관리해야한다.</p>\n<h1 id=\"approach\" style=\"position:relative;\"><a href=\"#approach\" aria-label=\"approach permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Approach</h1>\n<p>4개의 방향과 level을 갖고, 배열을 탐색하도록 한다.</p>\n<p>배열의 값을 하나씩 넣어주고, 해당 방향을 다 탐색하였다면 다음 방향으로 넘어가도록 구현하였다.</p>\n<p>만약 마지막 방향(아래에서 위로 올라오는 방향)의 끝이라면, 다음 레벨로 넘어가면서 다음 방향으로 가도록 한다.</p>\n<h1 id=\"complexity\" style=\"position:relative;\"><a href=\"#complexity\" aria-label=\"complexity permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Complexity</h1>\n<ul>\n<li>\n<p>Time complexity: O(n*m)</p>\n<p>matrix의 크기만큼 탐색하므로 배열을 만든다.</p>\n</li>\n<li>\n<p>Space complexity: O(n*m)</p>\n<p>flatten한 배열의 크기는 matrix의 크기에 비례한다.</p>\n</li>\n</ul>\n<h1 id=\"code\" style=\"position:relative;\"><a href=\"#code\" aria-label=\"code permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Code</h1>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">spiralOrder</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> matrix<span class=\"token punctuation\">:</span> List<span class=\"token punctuation\">[</span>List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> List<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        m<span class=\"token punctuation\">,</span> n <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>matrix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>matrix<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        spirals <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n        row_idx<span class=\"token punctuation\">,</span> col_idx <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span>\n        level <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        direction <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        move <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n        cur_cnt <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">while</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>spirals<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> m<span class=\"token operator\">*</span>n<span class=\"token punctuation\">:</span>\n            spirals<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>matrix<span class=\"token punctuation\">[</span>row_idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>col_idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n            cur_cnt <span class=\"token operator\">+=</span> <span class=\"token number\">1</span> \n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>direction <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token keyword\">or</span> direction <span class=\"token operator\">==</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">and</span> cur_cnt <span class=\"token operator\">==</span> n<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>level<span class=\"token punctuation\">:</span> <span class=\"token comment\"># 좌우 방향 종료 조건</span>\n                direction <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n                cur_cnt <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n            <span class=\"token keyword\">elif</span> direction <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token keyword\">and</span> cur_cnt <span class=\"token operator\">==</span> m<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>level<span class=\"token punctuation\">:</span> <span class=\"token comment\"># 아래 방향 이동시 종료 조건</span>\n                direction <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n                cur_cnt <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n            <span class=\"token keyword\">elif</span> direction <span class=\"token operator\">==</span> <span class=\"token number\">3</span> <span class=\"token keyword\">and</span> cur_cnt <span class=\"token operator\">==</span> m<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>level<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># 위 방향 종료 조건 </span>\n                direction <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n                cur_cnt <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n                level <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n            row_idx<span class=\"token punctuation\">,</span> col_idx <span class=\"token operator\">=</span> row_idx <span class=\"token operator\">+</span> move<span class=\"token punctuation\">[</span>direction<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> col_idx <span class=\"token operator\">+</span> move<span class=\"token punctuation\">[</span>direction<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\n        <span class=\"token keyword\">return</span> spirals</code></pre></div>\n<p>cur_cnt에서는 해당 level의 해당 방향에서 몇번이나 원소를 셌는지를 의미한다. 만약, cur_cnt가 다 찼다면 다음 레벨로 넘겨주면 되는데, 마지막 방향의 경우에는 하나를 덜 세야 다음 방향(왼쪽에서 오른쪽)이 처음부터 셀 수 있다.</p>","frontmatter":{"date":"September 25, 2023","title":"(Alg) LeetCode Top Interview 150 - 54. Spiral Matrix","categories":"Alg","author":"choieastsea","emoji":"🫠"},"fields":{"slug":"/Alg-LC-54/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://choieastsea.github.io","comments":{"utterances":{"repo":"choieastsea/choieastsea.github.io"}}}}},"pageContext":{"slug":"/Alg-BT/","nextSlug":"/Alg-LC-54/","prevSlug":""}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}